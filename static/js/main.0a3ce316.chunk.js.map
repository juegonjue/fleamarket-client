{"version":3,"sources":["lib/image/noimg.png","firebase/firebase.js","store/ip.js","lib/image/profile.png","container/chat/ChatContent.js","container/contract/Contract.js","container/chat/ChatRoom.js","container/chat/Chat.js","container/user/schoolinfo.js","container/user/schoolDetails.js","container/user/schooltest.js","App.js","components/Header.js","lib/image/test23.png","lib/image/test24.png","components/Footer.js","components/Action.js","firebase/getImageUrls.js","container/board/Progress.js","container/home/Alert.js","container/board/ImageUpload.js","container/board/UploadBoard.js","container/home/Filter.js","container/home/Search.js","container/board/BoardDetail.js","container/board/BoardThum.js","container/board/Board.js","components/FleamarketHome.js","store/socket.js","container/user/Login.js","container/user/Register.js","components/FleamarketLogin.js","container/mypage/dialogtest.js","container/mypage/profile.js","components/FleamarketMyPage.js","container/user/school2.csv","serviceWorker.js","index.js","store/store.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","firestore","ip","ChatContent","props","user_id","message","messagesEndRef","useRef","useEffect","current","scrollIntoView","behavior","block","inline","showTime","nowDate","moment","format","time","sendTime","slice","contents","type","style","fontWeight","marginTop","maxWidth","maxHeight","src","onClick","window","open","isMine","className","join","ref","renderMsg","Conteact","partypeopleABI","useRoom","room","ViewType","chatlog","useState","stage","setstage","tradeNum","settradeNum","stage_str","setstage_str","trade","settrade","sellerAddress","setsellerAddress","buyerAddress","setbuyerAddress","price","setprice","web3","setWeb3","undefined","Contract","setContract","setopen","Click","setClick","level","setLevel","board","setboard","chat","setchat","initWeb3","getLevel","getContract","axios","get","params","chat_id","id","board_id","then","data","TradeData","getInfo","catch","err","boardData","a","ethereum","Web3","enable","console","log","currentProvider","eth","methods","getBuyerAddress","call","buyerAddress_b32","getSellerAddress","sellerAddress_b32","getstate","Stage","getprice","fee","tempfee","Math","ceil","updatestate","state","res","alert","setUserLevel","buyerrequest","contract","buyer_id","seller_id","post","sendMessage","sellerapprove","getAccounts","accounts","sellerId32","ethers","utils","formatBytes32String","buyerId32","board_price","price_str","String","send","from","buyproduct","cost","value","returnprice","refundrequest","refundapprove","buyercancle","cancle","sellercancle","room_state","sessionStorage","getItem","result","fontSize","Button","size","Dialog","onClose","DialogTitle","align","textAlign","width","DialogContent","height","Tooltip","title","placement","IconButton","marginLeft","color","float","Typography","gutterBottom","margin","marginRight","display","useStyles","makeStyles","theme","root","flexGrow","background","borderBottom","paper","padding","spacing","palette","text","secondary","icon","input","ChatRoom","setRoom","setRead","socket","setText","setChatlog","other_user","setOtherUser","classes","getChatlog","setOther","on","off","getChatlogTime","logData","calcTime","id1","st1","id2","st2","parseInt","Date","hiddenFileInput","React","updateChatlog","copy","concat","push","url","emit","user","sender","sendClick","Number","prototype","this","reg","n","test","replace","exitRoom","confirm","Grid","container","direction","justify","alignItems","item","xs","borderTop","marginBottom","Avatar","alt","images","sm","overflow","textOverflow","whiteSpace","overflowX","map","idx","key","InputBase","onChange","e","target","substring","paddingLeft","inputProps","fullWidth","multiline","rows","autoFocus","placeholder","rowsMax","onKeyPress","click","accept","files","img","name","put","snapshot","child","getDownloadURL","backgroundColor","notification","borderRadius","font","chatlist","border","chatroom","Chat","roomList","setRoomList","view","setView","getRooms","msg","room_id","getNewRoom","updateRoom","new_msg","i","list","length","unread","updateTime","splice","unshift","chats","renderLists","updateRead","showRoomTitle","ToggleButtonGroup","orientation","exclusive","event","nextView","ToggleButton","List","schoolinfo","isSelected","school","address","schoolDetails","defaultProps","MyButton","styled","Schooltest","setOpen","setschool","schoolkey","setschoolkey","selectedKey","setselectedKey","emailkey","setemailkey","codekey","setcodekey","iscodekey","setiscodekey","Matchcode","setMatchcode","SearchNum","setSearchNum","getcsv","csvFilePath","require","parse","header","download","skipEmptyLines","complete","updateData","handleClose","SendSchool","variant","Divider","action","method","sort","b","filter","toLowerCase","indexOf","number","mapToComponents","marginleft","lineHeight","email","paddingRight","random","toString","substr","timer","clearTimeout","setTimeout","hot","logged","setLogged","openChat","setOpenChat","onLogin","Provider","onLogout","clear","basename","maxSnack","useChat","exact","path","component","Home","Login","MyPage","backImg","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","position","zIndex","logo","cursor","paddingTop","withRouter","enqueueSnackbar","useSnackbar","history","location","pathname","reload","logo_Image","Consumer","store","logout","to","getImageUrls","imgAry","setLoading","setImgUrls","urls","forEach","file","route","toLocaleTimeString","uploadTask","bytesTransferred","totalBytes","downloadURL","BorderLinearProgress","withStyles","colorPrimary","grey","bar","LinearProgress","Progress","Alert","option","Transition","forwardRef","Slide","TransitionComponent","keepMounted","DialogContentText","doAfter","ImageUpload","imageBoxStyle","imageStyle","resize","useImgAry","setImgAry","useImgBase64Ary","imgBase64Ary","setImgBase64Ary","justifyContent","multiple","Array","reader","FileReader","readAsDataURL","onloadend","base64","arr","image","Zoom","in","timeout","fileArr","deleteImg","deleteNewImg","setTitle","setPrice","setContents","imgUrls","loading","alertOption","setAlertOption","contentAlert","reset","submit","body","status","setOpenUL","getBoards","Paper","elevation","TextField","label","Input","labelwidth","startAdornment","InputAdornment","disabled","loginAlert","noSchoolAlert","useType","setType","useAlign","setAlign","useDesc","desc","setDesc","useSchool","mySchoolText","setMySchoolText","viewMySchool","setViewMySchool","useViewNoContract","viewNoContract","setViewNoContract","newType","FormControlLabel","control","Switch","checked","newAlign","Search","useWord","word","setWord","anchorEl","setAnchorEl","hotList","setHotList","openHot","Boolean","popper_id","showKeywords","setShowKeywords","keywords","setKeywords","searchHit","getHotList","limit","gets","searches","clickKeyword","search","getKeywords","onSubmit","preventDefault","invaild","keyword","Fade","currentTarget","clickHot","Popper","transition","TransitionProps","ListItem","button","ListItemText","primary","Chip","onDelete","deleteKeyword","useOpen","useBoard","oriImgAry","split","fullImg","setFullImg","openImgModal","setOpenImgModal","responseTmp","setResPonseTmp","getSellerInfo","tmp","edit","setEdit","useWish","wish","setWish","openDialog","setOpenDialog","responseRate","preEditBoard","vaild","isImgChange","isNewImage","tmpUrls","editBoard","imgChange","BoardAction","isWish","wishBoard","newRoom_id","creatChat","scroll","readOnly","levelColor","lv","myLevel","priceChange","dividers","minWidth","minHeight","tabIndex","rowsMin","index","bottom","left","right","top","DialogActions","getWish","CardActionArea","hit","Card","CardMedia","noimg","CardContent","flex","noWrap","boardState","past","printPast","editDateTime","boards","renderBoards","Grow","md","start_idx","openUL","setBoards","SetSchool","arg","options","cnt","prop","messageSnackbar","clickUL","clickChat","clickMyPage","Collapse","UploadBoard","connect","setId","password","setPassword","setMessage","response","success","setItem","nickname","Container","noValidate","pw","setPw","rpw","setRpw","phone","setPhone","setName","birth","setBirth","setSchool","setAddress","nickName","setNickName","checkRpw","setCheckRpw","newUser","checkID","required","checkPassword","checkRepassword","error","helperText","v","num","checkPhoneNumber","checkBirth","CenterDialog","Open","setNickname","deleteValid","setDeleteValid","getUserInfo","deleteUserInfoValid","userData","count","deleteUserInfo","deleteUserBoard","deleteUser","defaultProfileImage","onInput","refresh","CenterBox","Box","CenterTable","Table","FlexBox","flexDirection","NavyTypography","SizeLinearProgress","setResponseRate","allMysellList","setAllMysellList","mysellvisibility","setMysellvisibility","myselldisplay","setMyselldisplay","allMybuyList","setAllMybuyList","mybuyvisibility","setMybuyvisibility","mybuydisplay","setMybuydisplay","allMywishList","setAllMywishList","mywishvisibility","setMywishvisibility","mywishdisplay","setMywishdisplay","menu","setMenu","getMysell","getMybuy","getMywish","conState","isNull","selectedValue","visibility","stickyHeader","TableHead","TableRow","TableCell","TableBody","c","row","contractDate","hostname","match","ReactDOM","render","StrictMode","App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","Store","createContext"],"mappings":"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","file":"static/js/main.0a3ce316.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAOVBMVEXd3d3g4OCOjo7b29uoqKiRkZGioqKUlJS+vr7ExMSlpaW1tbXHx8exsbHU1NTMzMycnJzQ0NCtra0jU8DMAAADVUlEQVR4nO3YXXujKhSGYQEBERX0///YWQu0zbST2T3YnSS9nvsgjYHY8IbPDAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3GPMoz/B93Lu87MPyjr9ow/zECbP49aflpDvVFptvBfPT2BGa8f+bLHjnZamu+n8CGb00Rcd7n/JYPjJveDMoGob3zMw6vda7dJcJbcVzKeLawb9fJsnJWNhrX4yNxlseQ5z3m4q7dMij2XapzmM02DSEeap57VL5XCUXq+sQcr3KbWrZQxh3V8gBckgJx+3twzM5G0M0fr3pcBMNrjBHFZLvD2ytfJn1qLdykvVthCHybby2Ip0oqlSkp4/BM3ABLuaMwOTvF83tx2+zxKtzmRnKVm9Pza3RO9rcXtsrdtDcs5lq6NJXhr7OzWDycbUSra//fun0DIoNhbTM3DBjq3tc/+iW50rg6gXq7fSwU22RyvTUTTEWPSV6qTAVc1gq1b7htxuevqO0DIYDmlwz2DTOIY2MuJ+1Tkz0N7SBoa+lvqSaga3bVuVumbWO+mOQ29WfN10TpzOlfeZ9Qy2aJeWgTycndfFuJzf4FsGuWegHeDMwMg0WGP0mkG1bezLaJq1Vl1Fnn19VNO+rGfQ+vGVQZ/wpUunOxmsw1sGMoHWsOaoGcQzg6VnEGsXHtW0L+sZyPD1uWgG6W0Su98P3jPYog+bzAm194Ppth/M2+lRTfuyMwP58vz0cT64Pv3dDFpiOvO1sbDqCiqCZlB6yUs4M9BPXn1fF9Z2fdjwcW38UwahbSna/Fm8z7JMZN/Xhb5nGF4giCsDU2Td7/sDmzejq/zy3xnIoipbqSRzou4UZY8UVtkWaQYyw/jkjCvp+c8a14qmB2Rt6SDfo0xztTXuqtP3iWcG+WY+cKP1ofp4TocpxBjHuVWQjuXlPv4V9kgpL/2Zy7nt83W5CyGXm068Zw1kye1YUPob9lbbyQkirCVl3UvIdkBmwGtBcUnOC+F4gX5w8zPZdcqTbc/HX5TM7dB+Oxa2R617vjOlzbkSzqnxvM8LzAf/I9ke6/nJ1lc4K36XRc/R4yt0/u9jzMv8bAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBP/QJjhBqSKPIs1AAAAABJRU5ErkJggg==\"","import firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\n// Initialize Firebase\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBHulJa9fPwlqWpNGvjPVdu385ey-4W99E\",\r\n  authDomain: \"partypeople-66b7a.firebaseapp.com\",\r\n  databaseURL: \"https://partypeople-66b7a.firebaseio.com\",\r\n  projectId: \"partypeople-66b7a\",\r\n  storageBucket: \"partypeople-66b7a.appspot.com\",\r\n  messagingSenderId: \"561711905554\",\r\n  appId: \"1:561711905554:web:0ca082bf9f36275c2211cb\",\r\n  measurementId: \"G-KBZ5PF6QY6\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst storage = firebase.storage();\r\nconst database = firebase.firestore();\r\n\r\nexport {\r\n    storage, database, firebase as default\r\n}\r\n","export const ip = \"http://localhost:3001\";","module.exports = __webpack_public_path__ + \"static/media/profile.499536a0.png\";","import React, { useEffect, useRef } from 'react';\r\nimport './Message.css'\r\nimport moment from 'moment';\r\n\r\nfunction ChatContent(props) {\r\n    const user_id = props.user_id\r\n    const message = props.message\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"nearest\",\r\n            inline: \"start\"\r\n        })\r\n    }\r\n    useEffect(scrollToBottom, message)\r\n\r\n    const showTime = () => {\r\n        const nowDate = moment().format('YYYY-MM-DD');\r\n        //var time = message.sendTime.replace(/T/, ' ').replace(/\\..+/, '')\r\n        var time = message.sendTime\r\n\r\n        if (nowDate === time.slice(0, 10)) {\r\n            return time.slice(11, 16)\r\n        } else {\r\n            return time\r\n        }\r\n    }\r\n\r\n    const contents = (message) => {\r\n        switch(message.type){\r\n            // 일반 채팅\r\n            case 0:\r\n                return <div>\r\n                    {message.contents}\r\n                </div>\r\n\r\n                \r\n            // 구매 요청\r\n            case 1:\r\n                return <div>\r\n                    <p> {message.user_id}님이 <span style={{fontWeight: 'bold'}}>[구매요청]</span> 했습니다. </p>\r\n                    <p style={{marginTop: '5px'}}> 판매자는 '구매승인'을 눌러주세요!  </p>\r\n                </div>\r\n            // 구매 수락\r\n            case 2:\r\n                return <div>\r\n                    <p> {message.user_id}님이 <span style={{fontWeight: 'bold'}}>[구매수락]</span> 했습니다 </p>\r\n                    <p style={{marginTop: '5px'}}> 구매자는 '구매(송금)' 눌러주세요! </p>\r\n                </div>\r\n              // 물품 구매\r\n              case 3:\r\n                return(<div  >\r\n                    <p> {message.user_id}님이 <span style={{fontWeight: 'bold'}}>[물품구매]</span> 하셨습니다. </p>\r\n                    <p style={{marginTop: '5px'}}> 구매자는 물품을 확인하시고 '구매확정' 눌러주세요! </p>\r\n                </div>)\r\n                 // 구매 확정\r\n            case 4:\r\n                return(<div >\r\n                    <p> {message.user_id}님이 <span style={{fontWeight: 'bold'}}>[구매확정]</span> 했습니다 </p>\r\n                    <p style={{marginTop: '5px'}}> 구매자는 환불 여부를 결정해주세요! </p>\r\n                </div>)\r\n                 // 반품 요청\r\n                   //상대방이 방을 나감\r\n            case 9:\r\n                return <div>\r\n                    <p>{message.user_id}님이 방을 나갔습니다.</p>\r\n                </div>\r\n\r\n\r\n            case 10:\r\n                return(<div >\r\n                    <p> {message.user_id}님이 <span style={{fontWeight: 'bold'}}>[반품요청]</span> 했습니다 </p>\r\n                    <p style={{marginTop: '5px'}}> 판매자는 환불 여부를 결정해주세요! </p>\r\n                </div>)\r\n                // 반품 승인\r\n            case 11:\r\n                return(<div >\r\n                    <p> {message.user_id}님이 <span style={{fontWeight: 'bold'}}>[반품승인]</span> 했습니다 </p>\r\n                    <p style={{marginTop: '5px'}}> 물품이 반품처리 되었습니다! </p>\r\n                </div>)\r\n\r\n            case 7:\r\n                return(<div >\r\n                    <p> {message.user_id}님이 <span style={{fontWeight: 'bold'}}>[구매취소]</span> 했습니다 </p>\r\n                    <p style={{marginTop: '5px'}}> 거래가 취소 되었습니다! </p>\r\n                </div>)\r\n           case 21:\r\n            return(<div  >\r\n                <h4> 메타마스크 처리 중 </h4>\r\n                <p style={{marginTop: '5px'}}> please wait ... </p>\r\n            </div>) \r\n                \r\n            case 20:\r\n                return (<img style={{maxWidth: '150px', maxHeight: '150px'}} \r\n                src={message.contents} onClick={() => { window.open(message.contents) }} />)\r\n        }\r\n    }\r\n    const renderMsg = () => {\r\n        var article = <div ref={messagesEndRef} />;\r\n        var isMine = false;\r\n        if (user_id === message.user_id) {\r\n            isMine = true;\r\n        }\r\n        /* message.type === 0 || message.type === 20 */\r\n        if (message.type === 0 || message.type === 20) {\r\n            article = <div className={[\r\n                'message',\r\n                `${isMine ? 'mine' : ''}`, 'start', 'end'\r\n            ].join(' ')}\r\n            >\r\n                <div className=\"bubble-container\">\r\n                    <div className=\"bubble\">\r\n                        {contents(message)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"timestamp\">\r\n                    {showTime()}\r\n                </div>\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n        } else {\r\n            article =\r\n                <div className={[\r\n                    'message',\r\n                    `${isMine ? 'mine' : ''}`, 'start', 'end'\r\n                ].join(' ')}>\r\n                    <div className=\"system-container\">\r\n                        <div className=\"system\">\r\n                            {contents(message)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"timestamp\">\r\n                        {showTime()}\r\n                    </div>\r\n                    <div ref={messagesEndRef} />\r\n                </div>\r\n        }\r\n\r\n        return article\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {renderMsg()}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatContent\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport Web3 from 'web3';\r\nimport axios from 'axios';\r\nimport {ip} from \"../../store/ip\"\r\nimport ethers from 'ethers';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Button, Dialog, DialogTitle,IconButton, DialogContent, Typography,Tooltip } from '@material-ui/core'\r\n\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\r\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\r\n\r\n\r\nfunction Conteact(props) {\r\n  \r\n const partypeopleAddress='0x6de658f56af984c42780551620e5c60b3f4c0b5c';\r\n const partypeopleABI=[ { \"constant\": false, \"inputs\": [ { \"name\": \"_contractId\", \"type\": \"uint256\" } ], \"name\": \"buyproduct\", \"outputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_contractId\", \"type\": \"uint256\" } ], \"name\": \"cancle\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_contractId\", \"type\": \"uint256\" }, { \"name\": \"_sellerid\", \"type\": \"bytes32\" }, { \"name\": \"_buyerid\", \"type\": \"bytes32\" }, { \"name\": \"_price\", \"type\": \"uint256\" } ], \"name\": \"createContract\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_contractId\", \"type\": \"uint256\" } ], \"name\": \"refundapprove\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_contractId\", \"type\": \"uint256\" } ], \"name\": \"refundrequest\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_contractId\", \"type\": \"uint256\" } ], \"name\": \"returnprice\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [ { \"name\": \"_contractId\", \"type\": \"uint256\" }, { \"name\": \"_sellerid\", \"type\": \"bytes32\" }, { \"name\": \"_buyerid\", \"type\": \"bytes32\" }, { \"name\": \"_price\", \"type\": \"uint256\" } ], \"name\": \"sellerapprove\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"name\": \"contractInfo\", \"outputs\": [ { \"name\": \"contractId\", \"type\": \"uint256\" }, { \"name\": \"buyerAddress\", \"type\": \"address\" }, { \"name\": \"sellerAddress\", \"type\": \"address\" }, { \"name\": \"buyerid\", \"type\": \"bytes32\" }, { \"name\": \"sellerid\", \"type\": \"bytes32\" }, { \"name\": \"price\", \"type\": \"uint256\" }, { \"name\": \"state\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getBuyerAddress\", \"outputs\": [ { \"name\": \"\", \"type\": \"address\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getBuyerID\", \"outputs\": [ { \"name\": \"\", \"type\": \"bytes32\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getContractId\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getContractInfo\", \"outputs\": [ { \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"bytes32\" }, { \"name\": \"\", \"type\": \"bytes32\" }, { \"name\": \"\", \"type\": \"uint256\" }, { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getprice\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getSellerAddress\", \"outputs\": [ { \"name\": \"\", \"type\": \"address\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getSellerID\", \"outputs\": [ { \"name\": \"\", \"type\": \"bytes32\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [ { \"name\": \"_id\", \"type\": \"uint256\" } ], \"name\": \"getstate\", \"outputs\": [ { \"name\": \"\", \"type\": \"uint256\" } ], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" } ]\r\n  \r\n const [room, setRoom] = props.useRoom\r\n  const ViewType=props.ViewType\r\n  const [chatlog, setChatlog]=props.chatlog\r\n\r\n  const [stage, setstage] = useState(\"0\")\r\n  const [tradeNum,settradeNum]=useState(\"\")\r\n  const [stage_str,setstage_str]=useState(\"\")\r\n  const [trade,settrade]=useState([])\r\n  const[sellerAddress,setsellerAddress]=useState(\"\")\r\n  const[buyerAddress,setbuyerAddress]=useState(\"\")\r\n  const[price,setprice]=useState(\"\")\r\n  const [web3, setWeb3] = useState(\"\");\r\n  const [Contract, setContract] = useState(undefined);\r\n  const[open,setopen]=useState(false)  \r\n  const [Click,setClick]=useState(-1)\r\n  const [level, setLevel] = useState(\"\")\r\n  const [board,setboard]=useState([])\r\n  const [chat,setchat]=useState([])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    initWeb3();\r\n    getLevel();\r\n  },[chatlog,room,stage]) \r\n\r\n\r\n \r\n\r\n /*DB 거래 정보 가져오기 */ \r\n const getContract = (Contract) =>{\r\n  axios\r\n  .get(ip+\"/contract/user\", { \r\n    params: { chat_id:room.id,board_id:room.board_id},})\r\n  .then((data) => {\r\n      const TradeData = data.data[0];\r\n      settradeNum(TradeData[0].id)\r\n      settrade(TradeData[0])\r\n      getInfo(Contract,TradeData[0].id,web3)\r\n    })\r\n    .catch(err => \r\n      {settradeNum(\"0\")\r\n       getInfo(Contract,0,web3)\r\n    })\r\n\r\n    axios\r\n    .get(ip+\"/contract/board\", { \r\n      params: { board_id:room.board_id ,chat_id:room.id},})\r\n    .then((data) => {\r\n        const boardData = data.data[0];\r\n        setboard(boardData[0][0])\r\n        setchat(boardData[1][0])\r\n\r\n      })\r\n    \r\n}\r\n\r\n\r\n  \r\n  /*컨트렉트 주소,ABI연결*/\r\n  const initWeb3 =async ()=>{ \r\n     let web3=undefined;\r\n     let Contract=undefined;\r\n  \r\n    if(window.ethereum){\r\n      web3 =new Web3(window.ethereum);\r\n      try{await window.ethereum.enable();}catch(error){}}\r\n      else if(window.web3){\r\n          console.log('legacy mode')\r\n          web3=new Web3(Web3.currentProvider); }\r\n             else{console.log('Non-Ethereum browser detected. You should consider trying MetaMask'); }\r\n    Contract=new web3.eth.Contract(partypeopleABI,partypeopleAddress); \r\n    getContract(Contract)\r\n    setContract(Contract)\r\n    setWeb3(web3)\r\n    }\r\n\r\n  /*거래 정보 보여줌*/\r\n   const getInfo = async (Contract,tradeNum) =>{ \r\n  \r\n\r\n    const buyerAddress_b32 = await Contract.methods.getBuyerAddress(tradeNum).call()\r\n    const sellerAddress_b32 = await Contract.methods.getSellerAddress(tradeNum).call()\r\n    const Stage=await Contract.methods.getstate(tradeNum).call();\r\n    const fee =await Contract.methods.getprice(tradeNum).call() \r\n    const tempfee= Math.ceil((fee/(0.0000227* 10 ** 18)))\r\n\r\n  \r\n    \r\n    let stage_str;\r\n\r\n    if(Stage === \"1\") {stage_str = \"구매요청 이후 구매승인대기\"}\r\n    if(Stage === \"2\") {stage_str = \"구매승인 이후 입금대기\"}\r\n    if(Stage === \"3\") {stage_str = \"입금 이후 구매확정대기\"}\r\n    if(Stage === \"4\") {stage_str = \"구매 확정 완료[판매 완료]\"}\r\n    if(Stage === \"10\") {stage_str = \"물품 환불 요청 상태[거래취소]\"} //구매자\r\n    if(Stage === \"11\") {stage_str = \"물품 환불 승인 상태[거래취소]\"} //판매자\r\n    if(Stage === \"7\") {stage_str = \"구매 전 [거래 취소]\"}\r\n    \r\n\r\n    setstage(Stage)\r\n    setstage_str(stage_str) \r\n    setsellerAddress(sellerAddress_b32)\r\n    setbuyerAddress(buyerAddress_b32)\r\n    setprice(tempfee)\r\n    }\r\n\r\n  /*DB상태 업데이트 */\r\n  const updatestate = (state) => {\r\n\r\n    axios.get(ip + '/contract/state', { params: { tradeNum: tradeNum, state: state ,board_id:room.board_id } })\r\n      .then(res => { })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"업데이트에러\")\r\n      })\r\n    \r\n    if (state===4 || state===7){\r\n\r\n      setUserLevel(state) //레벨설정\r\n      console.log(\"상태: \",state)\r\n    }\r\n  }\r\n\r\n\r\n\r\n/*구매요청 (DB생성) */\r\n    const buyerrequest= async () => {\r\n      const contract = {  //채팅방 아이디를 추가 구분하기위해 ! \r\n        chat_id:room.id,\r\n        board_id:room.board_id,\r\n        price:board.price,\r\n        buyer_id:room.buyer_id,\r\n        seller_id:room.seller_id};\r\n        axios.post(ip+\"/contract/contract\", { contract }).then((res) => \r\n          {  console.log(res);\r\n             updatestate(1)\r\n             props.sendMessage(1)\r\n             setstage(1)\r\n          });\r\n         \r\n    }\r\n\r\n    \r\n/*판매자 승인*/\r\n  const sellerapprove = async () => { \r\n\r\n  const accounts = await web3.eth.getAccounts();\r\n  setsellerAddress(accounts[0])\r\n\r\n  let sellerId32= ethers.utils.formatBytes32String(room.seller_id);\r\n  let buyerId32= ethers.utils.formatBytes32String(room.buyer_id);\r\n  let board_price = trade.board_price*0.0000227* 10 ** 18; //1원에 0.00000227 이더.. 일단 이렇게\r\n  let price_str = String(board_price) //가격\r\n  \r\n  props.sendMessage(21)\r\n  await Contract.methods.sellerapprove(tradeNum,sellerId32,buyerId32,price_str).send({ from: accounts[0]}); \r\n  await updatestate(2)\r\n  await props.sendMessage(2)\r\n  \r\n\r\n}\r\n\r\n/*물품구매*/\r\nconst buyproduct = async() =>{\r\n\r\n  const accounts = await web3.eth.getAccounts();\r\n  setbuyerAddress(accounts[0])\r\n\r\n  let cost = trade.board_price*0.0000227* 10 ** 18 //원->이더->웨이\r\n  props.sendMessage(21)\r\n  await Contract.methods.buyproduct(tradeNum).send({ from:accounts[0], value: cost}); \r\n  await updatestate(3)\r\n  await props.sendMessage(3) \r\n  \r\n \r\n\r\n}\r\n\r\n\r\n\r\n/*구매확정(구)*/\r\nconst returnprice = async() =>{\r\n \r\nprops.sendMessage(21)\r\nawait Contract.methods.returnprice(tradeNum).send({ from:buyerAddress});\r\nawait updatestate(4)\r\nawait props.sendMessage(4)\r\n\r\n}\r\n\r\n/*물품 환불 요청 상태[거래취소] //구매자*/   \r\n const refundrequest = async() =>{\r\n  \r\n  props.sendMessage(21)\r\n  await Contract.methods.refundrequest(tradeNum).send({from:buyerAddress});\r\n  await updatestate(10)\r\n  await props.sendMessage(10)\r\n\r\n}\r\n\r\n/*물품 환불 승인 상태[거래취소] //구매자*/   \r\n const refundapprove = async() =>{\r\n\r\n  props.sendMessage(21)\r\n  await Contract.methods.refundapprove(tradeNum).send({from:sellerAddress});\r\n  await updatestate(11)\r\n  await  props.sendMessage(11)\r\n\r\n}\r\n\r\n /*구매 취소[구매자]*/\r\n const buyercancle = async() =>{\r\n  \r\n  \r\n  const accounts = await web3.eth.getAccounts();\r\n  setbuyerAddress(accounts[0])\r\n\r\n  props.sendMessage(21)\r\n  await Contract.methods.cancle(tradeNum).send({ from:accounts[0]});\r\n  await updatestate(7)\r\n  await props.sendMessage(7) \r\n  \r\n}\r\n\r\n/*구매 취소[판매자]*/\r\n const sellercancle = async() =>{\r\n  \r\n  props.sendMessage(21)\r\n  await Contract.methods.cancle(tradeNum).send({ from:sellerAddress});\r\n  await updatestate(7)\r\n  await props.sendMessage(7) \r\n\r\n}\r\n\r\n /* 나의레벨 */\r\n const setUserLevel = (state) => {\r\n  console.log(\"레벨조정을 시도합니다.\")\r\n  if (level >= 100 && state===4) console.log(\"100이상은 레벨업 불가능\")\r\n  else if (level < 0 && state===7) console.log(\"0이하는 레벨다운불가능\")\r\n  else {\r\n    axios\r\n      .post(\"/chat/updatelevel\", {\r\n        room_state: state,\r\n        chat_id: room.id\r\n      })\r\n      .then(res => {\r\n\r\n      })\r\n      .catch(err => {\r\n\r\n      })\r\n  }\r\n\r\n}\r\n\r\nconst getLevel = () => {\r\n  axios\r\n    .get(ip + \"/mypages/profile\", {\r\n      params: {\r\n        id: window.sessionStorage.getItem(\"id\")\r\n      },\r\n    })\r\n    .then(data => {\r\n      const result = data.data[0]\r\n      console.log(\"가져온 레벨 : \", result.level)\r\n\r\n      setLevel(result.level)\r\n    })\r\n}\r\n\r\n\r\n\r\n    return (\r\n        <div style={{fontSize:30 }}>\r\n              {/* 거래 정보 보여줌 */}\r\n            \r\n    <Button size={\"small\"} type={\"button\"} onClick={()=>setopen(true)} > 거래 정보 </Button>\r\n\r\n              {/* 거래정보 */}\r\n                <Dialog onClose={open} open={open} >\r\n                          <DialogTitle align=\"center\"style={{textAlign:\"center\",fontWeight:\"bold\",width:550 }}></DialogTitle>\r\n                                                          \r\n                                <DialogContent style={{textAlign:\"center\",height:\"350px\"}} >  \r\n                                \r\n                              \r\n                                    <Tooltip title=\"계정정보 보기\" placement='left'> \r\n                                    <IconButton onClick={() => setClick(-Click)} style={{marginLeft:\"45px\",color:\"#FFA500\"}}  >\r\n                                        <SupervisedUserCircleIcon style={{fontSize:80 }}/>\r\n                                   </IconButton>\r\n                                    </Tooltip>\r\n                                    \r\n                                   <IconButton  onClick={() => setopen(false)} style={{color:\"#696969\",float:\"right\"}}  >\r\n                                        <CloseIcon  style={{fontSize: 30}} /> \r\n                                   </IconButton>\r\n\r\n                                  <Typography gutterBottom style={{fontWeight:\"bold\",fontSize:\"25px\",color:\"#000069\",marginTop:\"30px\"}}>{stage_str ===\"0\"?\"구매 요청 전입니다.\" : stage_str}</Typography>\r\n                               \r\n\r\n                                   <IconButton style={{margin:\"auto\",color:\"#000069\"}} >\r\n                                        <MonetizationOnIcon style={{fontSize:35 ,marginRight:\"8px\"}}/>\r\n                                         <Typography gutterBottom style={{fontWeight:\"bold\"}} > {price} / ETH : {price*(0.0000227)} </Typography>\r\n                                   </IconButton>\r\n                                       {Click===1?\r\n                                        (      \r\n                                        <div>\r\n                                          <Typography gutterBottom style={{fontWeight:\"bold\",fontSize:\"15px\"}}>SELLER:{sellerAddress === \"\"? \"판매자 측 거래승인 이후 등록됩니다.\" : sellerAddress}</Typography>\r\n                                          <Typography gutterBottom  style={{fontWeight:\"bold\",fontSize:\"15px\"}}>BUYER :{buyerAddress === \"\"? \"판매자 측 거래승인 이후 등록됩니다.\" : buyerAddress}</Typography>\r\n                                        </div>) :null}\r\n                                           \r\n                                </DialogContent>\r\n                                \r\n                </Dialog>\r\n                {/* 거래정보 */}\r\n               \r\n              {ViewType===1 && chat.state===0 &&(board.state===1||board.state===0||board.state===7||board.state===11) ?<Button size={\"small\"} type={\"button\"} onClick={() => buyerrequest()} >구매 요청</Button>:null}\r\n              {board.state===chat.state?\r\n              <div style={{display:\"inline-block\"}}>\r\n              {ViewType===2 && trade.state===1? <Button size={\"small\"} type={\"button\"} onClick={() => sellerapprove()} >구매 승인</Button>:null}\r\n              {ViewType===1 && stage===\"2\"? <Button size={\"small\"} type={\"button\"}  onClick={() => buyproduct()}>물품 구매</Button>:null}\r\n              {ViewType===1 && stage===\"3\"?<Button size={\"small\"} type={\"button\"}  onClick={() => returnprice()}>구매 확정</Button>:null}\r\n              {ViewType===1 && stage===\"2\"? <Button size={\"small\"} type={\"button\"}  onClick={() => buyercancle()}>구매 취소</Button>:null}\r\n              {ViewType===2 &&stage===\"2\"?<Button size={\"small\"} type={\"button\"}  onClick={() => sellercancle()}>구매 취소</Button>:null}\r\n              {ViewType===1 && stage===\"3\"? <Button size={\"small\"} type={\"button\"} onClick={() => refundrequest()}>물품 환불 요청</Button>:null}\r\n              {ViewType===2 && stage===\"10\"? <Button size={\"small\"} type={\"button\"}  onClick={() => refundapprove()} >물품 환불 승인</Button>:null}\r\n              </div>:null\r\n              }\r\n\r\n              \r\n             \r\n            \r\n        </div>\r\n      \r\n    )\r\n}\r\nexport default Conteact;","import React, { useEffect, useState } from 'react';\r\nimport { ip } from '../../store/ip'\r\nimport axios from 'axios';\r\nimport ChatContent from \"./ChatContent\";\r\nimport { storage } from '../../firebase/firebase'\r\nimport Contract from \"../contract/Contract\"\r\nimport { Grid, IconButton, InputBase, makeStyles } from '@material-ui/core';\r\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\r\nimport SendOutlinedIcon from '@material-ui/icons/SendOutlined';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nimport moment from 'moment';\r\n\r\nconst time = moment().format('YYYY-MM-DD hh:mm:ss');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        background: '#FFF',\r\n        borderBottom:'1px solid gray'\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    icon: {\r\n        fontSize: '20px'\r\n    },\r\n    input: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        },\r\n    }\r\n}));\r\n\r\n\r\nfunction ChatRoom(props) {\r\n    const [room, setRoom] = props.useRoom\r\n    const setRead = props.setRead\r\n    const user_id = window.sessionStorage.getItem('id')\r\n    const socket = props.socket;\r\n    const [text, setText] = useState(\"\")\r\n    const [chatlog, setChatlog] = useState([])\r\n\r\n    const [other_user, setOtherUser] = useState('');\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        getChatlog()\r\n        setOther()\r\n        setRead(room.id, false)\r\n        socket.on(\"update_chatlog\", (id) => {\r\n            if (room.id === id) {\r\n                getChatlog()\r\n                setRead(room.id, false)\r\n            }\r\n        })\r\n        return () => {\r\n            socket.off(\"update_chatlog\")\r\n        }\r\n    }, [room])\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(\"exit_room\", () => {\r\n            setOtherUser('')\r\n        })\r\n\r\n    }, [])\r\n\r\n        /* 채팅로그 아이디, 시간 get하는 함수 */\r\n        const getChatlogTime = () => {\r\n            axios\r\n            .get(ip+\"/chat/chatTime\", {\r\n                params : {\r\n                    chat_id : room.id\r\n                }\r\n            })\r\n            .then((data)=>{\r\n                const logData = data.data;\r\n                if (logData[1]) {\r\n                    console.log(logData[0].user_id, logData[0].sendTime, logData[1].user_id, logData[1].sendTime)\r\n                    calcTime(logData[0].user_id, logData[0].sendTime, logData[1].user_id, logData[1].sendTime)\r\n                }\r\n            })\r\n            .catch(err=>console.log(err))\r\n    \r\n        }\r\n        /* 시간계산함수 */\r\n        const calcTime = (id1,st1,id2,st2) => {\r\n            let time = parseInt( (new Date(st1) - new Date(st2) )/1000)\r\n            console.log(\"시간차: \",time,\"초\")\r\n            if (id1 !== id2 && time < 1800) {\r\n                axios\r\n                    .post(ip + \"/chat/chatScore\", {\r\n                        user_id: id1\r\n                    })\r\n                    .then(res => {\r\n                        console.log(res)\r\n                        console.log(\"점수상승\")\r\n                    })\r\n                    .catch(err => console.log(err))\r\n            }\r\n        }\r\n    \r\n\r\n    const hiddenFileInput = React.useRef(null);\r\n\r\n    const isSeller = (id) => {\r\n        return room.seller_id === id\r\n    }\r\n\r\n    const getChatlog = () => {\r\n        if (!room.id)\r\n            return\r\n\r\n        axios.get(ip + \"/chat/chatlog\", { params: { id: room.id } })\r\n            .then(res => {\r\n                if (chatlog !== res.data.chatlog[0]) {\r\n                    setChatlog(res.data.chatlog[0])\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(err)\r\n            })\r\n    }\r\n    const updateChatlog = (log) => {\r\n        var copy = chatlog.concat()\r\n        copy.push(log)\r\n        setChatlog(copy)\r\n    }\r\n    // type 0: 일반 메시지 1: 구매요청 2: 구매수락 3: 물품구매 4: 구매확정 5: 거래완료 10: 거래취소\r\n    const sendMessage = (type, url = \"\") => {\r\n        if (!type && !text)\r\n            return\r\n        const log = { chat_id: room.id, user_id: user_id, contents: type ? url : text, type: type, sendTime:time }\r\n        axios.post(ip + \"/chat/chatlog\", log)\r\n            .then(res => {\r\n                \r\n                //getChatlog()\r\n                updateChatlog(log)\r\n                setText(\"\")\r\n                getChatlogTime()\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(err)\r\n            })\r\n        socket.emit(\"new_msg\", {user:other_user, chatlog:log, sender:user_id, id:room.id})\r\n    }\r\n \r\n  \r\n\r\n    // 사진 업로드\r\n    const handleClick = e => {\r\n        hiddenFileInput.current.click();\r\n    };\r\n    const uploadImage = (e) => {\r\n        if (e.target.files[0]) {\r\n            const img = e.target.files[0]\r\n            const uploadTask = storage.ref(`images/${img.name}`).put(img);\r\n            uploadTask.on('state_changed',\r\n                (snapshot) => {\r\n                    console.log(snapshot)\r\n                }, (err) => {\r\n                    console.log(err)\r\n                }, () => {\r\n                    storage.ref('images').child(img.name).getDownloadURL().then(url => {\r\n                        sendMessage(20, url)\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    // 채팅 enter키로 전송 \r\n    const sendClick = () => {\r\n        sendMessage(0)\r\n    }\r\n    const appKeyPress = (e) => {\r\n        if (e.key === 'Enter') {\r\n            sendClick();\r\n        }\r\n    }\r\n    // 가격에 단위수 마다 ,콤마 찍는 함수\r\n    Number.prototype.format = function () {\r\n        if (this === 0) return 0;\r\n\r\n        var reg = /(^[+-]?\\d+)(\\d{3})/;\r\n        var n = (this + '');\r\n\r\n        while (reg.test(n)) n = n.replace(reg, '$1' + ',' + '$2');\r\n\r\n        return n;\r\n    };\r\n    \r\n    //방제목용 상대방 id표시\r\n    const setOther = () => {\r\n        if (room.seller_id === user_id) {\r\n            setOtherUser(room.buyer_id)\r\n        } else {\r\n            setOtherUser(room.seller_id)\r\n        }\r\n    }\r\n    const showRoomTitle = () => {\r\n        if(other_user === ''){\r\n            return <h3 style={{color:'#cd5c5c'}}>상대방이 나감</h3>\r\n        } else{\r\n            return <h3 style={{color:'#000',fontSize:\"18px\"}}>{other_user}</h3>\r\n        }\r\n    }\r\n    const exitRoom = () => {\r\n        if (room.state === 0 || room.state === 5 || room.state === 10) {\r\n            let result = window.confirm(\"정말 방을 나가시겠습니까?\\n대화내용이 삭제됩니다\")\r\n            if (result) {\r\n                sendMessage(9)\r\n\r\n                var type = null;\r\n                if(isSeller(user_id)){\r\n                    type = 'seller'\r\n                } else{\r\n                    type = 'buyer'\r\n                }\r\n                var data = { type:type, id: room.id }\r\n\r\n                axios.post(ip + \"/chat/exit\", data)\r\n                    .then(res => {\r\n                        var data = { user: other_user, id: room.id }\r\n                        socket.emit(\"exit_room\", data)\r\n                        setRoom({})\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err)\r\n                        alert(err)\r\n                    })\r\n            }\r\n        } else {\r\n            alert('거래 중일 때는 방을 나가실 수 없습니다')\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <header className={classes.root}>\r\n                <Grid container spacing={3} direction=\"row\" justify=\"space-between\" alignItems=\"center\" >\r\n                    <Grid item> \r\n                        <IconButton onClick={() => { setRoom({})  }}>\r\n                            <ArrowBackIcon  style={{fontSize:30 }} />\r\n                        </IconButton>\r\n                    </Grid>\r\n                    <Grid item xs={6} style={{ textAlign: \"center\"}}>\r\n                        {showRoomTitle()}\r\n                    </Grid>\r\n                    <Grid item style={{ float: \"right\" }}>\r\n                        <IconButton size=\"large\" onClick={() => { exitRoom() }}>\r\n                            <ExitToAppIcon style={{fontSize:30 }} />\r\n                        </IconButton>\r\n                    </Grid>\r\n                </Grid>\r\n                <div style={{borderTop:'1px solid gray'}}/>\r\n                <Grid container spacing={1} style={{ marginTop: '5px', marginBottom:'5px' }}>\r\n                    <Grid item>\r\n                        <Avatar alt=\"img\" src={room.images} />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm container>\r\n                    <Grid item xs container direction=\"column\" spacing={0}>\r\n                        <Grid item xs> \r\n                        <h3 style={{ width: \"300px\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\" }}>{room.title}</h3>\r\n                        </Grid>\r\n                        <Grid item xs> \r\n                        <div style={{ marginTop: '0px' }}>{room.price.format()}원</div>\r\n                        </Grid>\r\n                         \r\n                    </Grid>\r\n                    </Grid> \r\n                    \r\n                </Grid>\r\n            </header>\r\n\r\n            <div style={{ overflowX: \"auto\", height: \"480px\" ,background:\"#fff\"}}>\r\n                {\r\n                    chatlog.map((message, idx) => {\r\n                        const align = (message.user_id === user_id) ? \"right\" : \"left\"\r\n                        return (\r\n                            <li key={idx} style={{textAlign: align, margin: '1rem' }}>\r\n                                <ChatContent message={message} user_id={user_id} sendMessage={sendMessage} />\r\n                            </li>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <Grid container direction={'column'} style={{ borderTop: '1px solid gray' }}>\r\n                <Grid item>\r\n                    {/* Enter하면 바로 메시지 전송하고 Ctrl+Enter로 행바꿈 */}\r\n                    <InputBase onChange={(e) => setText(e.target.value.substring(0,100))}\r\n                        value={text}\r\n                        style={{ paddingLeft: '1rem' }}\r\n                        inputProps={{ 'aria-label': 'naked', size: 'small' }}\r\n                        type=\"text\"\r\n                        fullWidth multiline rows={3}\r\n                        autoFocus\r\n                        placeholder='메시지를 입력하세요 (글자 수 제한 : 100) '\r\n                        rowsMax={5}\r\n                        onKeyPress={appKeyPress} />\r\n                </Grid>\r\n                <div style={{borderTop:'1px solid gray'}}/>\r\n                <Grid item style={{ display: 'flex', direction: 'rtl' }}>\r\n                    <IconButton size=\"small\" onClick={() => sendClick()} >\r\n                        <SendOutlinedIcon style={{fontSize:30 }}/>\r\n                    </IconButton>\r\n                    <div>\r\n                        <IconButton size=\"small\" onClick={handleClick}>\r\n                            <ImageOutlinedIcon style={{fontSize:30 }} />\r\n                            <input accept=\"image/*\" type=\"file\"\r\n                                onChange={uploadImage}\r\n                                ref={hiddenFileInput}\r\n                                style={{ display: 'none' }}\r\n                            />\r\n                        </IconButton >\r\n                    </div>\r\n                    <Contract useRoom={[room, setRoom]} ViewType={room.buyer_id===user_id?1:2} chatlog={[chatlog, setChatlog]} sendMessage={sendMessage}/>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatRoom;","import React, { useEffect, useState } from 'react'\r\nimport ChatRoom from './ChatRoom'\r\nimport axios from 'axios';\r\nimport { ip } from '../../store/ip'\r\n\r\nimport { Grid } from '@material-ui/core';\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\nimport socket from '../../store/socket'\r\nimport moment from 'moment';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '36ch',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n    notification: {\r\n        float: 'right',\r\n        borderRadius: '50%',\r\n        padding: '10% 5%',\r\n\r\n        backgroundColor: 'red',\r\n        color: 'white',\r\n        font: 'bold Helvetica, Verdana, Tahoma',\r\n    },\r\n    chatlist: {\r\n        padding: \"1rem\", border: \"1px solid gray\", background: '#FFF', width: '300px', maxHeight: '500px', overflow: \"auto\", borderRadius: '2%'\r\n    },\r\n    chatroom: {\r\n        padding: \"1rem\", border: \"1px solid gray\", background: '#FFF', borderRadius: '2%'\r\n    },\r\n    border: {\r\n        padding: '5px 0px 5px 5px',\r\n        marginBottom: '5px',\r\n        borderBottom: '1px solid #efefef',\r\n    },\r\n    icon: {\r\n        float: 'right',\r\n        fontSize: '27px',\r\n        color: 'red'\r\n    }\r\n}));\r\n\r\nfunction    Chat() {\r\n    const user_id = window.sessionStorage.getItem(\"id\")\r\n    const [room, setRoom] = useState({})\r\n    const [roomList, setRoomList] = useState([])\r\n    const [view, setView] = React.useState('all');\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        if (user_id) {\r\n            socket.emit('join', user_id);\r\n        }\r\n    }, [user_id])\r\n\r\n    useEffect(() => {\r\n        getRooms()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        socket.on(\"update_notification\", () => {\r\n            setRead(room.id, false)\r\n        })\r\n        return () => {\r\n            socket.off(\"update_notification\")\r\n        }\r\n    }, [room])\r\n\r\n    useEffect(() => {\r\n        socket.on(\"new_msg\", (msg) => {\r\n            setRead(msg.id, true)\r\n        })\r\n        socket.on(\"new_room\", (room_id) => {\r\n            getNewRoom(room_id)\r\n        })\r\n        socket.on('exit_room1', (room_id) => {\r\n            updateRoom(room_id, 'exit1')\r\n        })\r\n        socket.on('exit_room2', (room_id) => {\r\n            updateRoom(room_id, 'exit2')\r\n        })\r\n\r\n        return () => {\r\n            socket.off(\"new_msg\")\r\n            socket.off(\"new_room\")\r\n            socket.off(\"exit_room1\")\r\n            socket.off(\"exit_room2\")\r\n        }\r\n\r\n    }, [roomList])\r\n\r\n    //새로운 메시지 count\r\n    const setRead = (id, new_msg) => {\r\n        var i = 0;\r\n        var list = roomList.concat()\r\n        while (i < list.length) {\r\n            if (list[i].id === id) {\r\n                if (new_msg === true) {\r\n                    var copy = list[i]\r\n                    copy.unread = copy.unread + 1;\r\n                    copy.updateTime = moment().format('YYYY-MM-DD HH:mm:ss');\r\n                    list.splice(i, 1)\r\n                    list.unshift(copy)\r\n                } else if (new_msg === false) {\r\n                    list[i].unread = 0;\r\n                }\r\n                break;\r\n            }\r\n            i = i + 1;\r\n        }\r\n        setRoomList(list);\r\n    }\r\n\r\n    const updateRoom = (id, type) => {\r\n        var list = roomList.concat()\r\n        if (type === 'exit1') {\r\n            var i = 0;\r\n            while (i < list.length) {\r\n                if (list[i].id === id) {\r\n                    list.splice(i, 1)\r\n                    break;\r\n                }\r\n                i = i + 1;\r\n            }\r\n        } else if (type === 'exit2') {\r\n            i = 0;\r\n            while (i < list.length) {\r\n                if (list[i].id === id) {\r\n                    if (list[i].seller_id === user_id) {\r\n                        list[i].buyer_id = 'out'\r\n                    } else {\r\n                        list[i].seller_id = 'out'\r\n                    }\r\n                    break;\r\n                }\r\n                i = i + 1;\r\n            }\r\n        }\r\n        setRoomList(list);\r\n    }\r\n    //'new_room' 새로운 방 추가 때문에 만듬\r\n    const getNewRoom = (room_id) => {\r\n        \r\n        axios.get(ip + \"/chat/room\", { params: { id: room_id } })\r\n            .then(res => {\r\n                var list = roomList.concat()\r\n                list.unshift(res.data.room[0])\r\n                setRoomList(list)   \r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(err)\r\n            }) \r\n    }\r\n    // type 'all': 전체  'shopping': 구매  'selling': 판매\r\n    const getRooms = (type = view) => {\r\n        axios.get(ip + \"/chat\", { params: { id: user_id, type: type } })\r\n            .then(res => {\r\n                setRoomList(res.data.chats[0])\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(err)\r\n            })  \r\n    }\r\n    const showRoomTitle = (room) => {\r\n        var other_user = '';\r\n        if (room.seller_id === user_id) {\r\n            other_user = room.buyer_id\r\n        } else {\r\n            other_user = room.seller_id\r\n        }\r\n\r\n        if (other_user === null) {\r\n            return <p style={{ color: \"#cd5c5c\", float: 'left' }}>상대방 나감</p>\r\n        } else {\r\n            return <p style={{ color: \"#556b2f\", float: 'left' }}>{other_user}</p>\r\n        }\r\n    }\r\n    const showTime = (time) => {\r\n        const nowDate = moment().format('YYYY-MM-DD');\r\n\r\n        if (nowDate === time.slice(0, 10)) {\r\n            return time.slice(11, 16)\r\n        } else {\r\n            return time.slice(0, 10)\r\n        }\r\n    }\r\n    // 가격에 단위수 마다 ,콤마 찍는 함수\r\n    Number.prototype.format = function () {\r\n        if (this === 0) return 0;\r\n\r\n        var reg = /(^[+-]?\\d+)(\\d{3})/;\r\n        var n = (this + '');\r\n\r\n        while (reg.test(n)) n = n.replace(reg, '$1' + ',' + '$2');\r\n\r\n        return n;\r\n    };\r\n\r\n    // 채팅방들\r\n    const renderLists = roomList.map((item, idx) => {\r\n        return (\r\n            <Grid container spacing={1} key={idx} onClick={() => { updateRead(item) }} className={classes.border}>\r\n                <Grid item>\r\n                    <Avatar alt=\"img\" src={item.images} />\r\n                </Grid>\r\n                <Grid item xs={12} sm container>\r\n                    <Grid item xs container direction=\"column\" spacing={0}>\r\n                        <Grid item xs> \r\n                            <h3 style={{ width: \"140px\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\" }}>{item.title}</h3>\r\n                        </Grid>\r\n                        <Grid item xs> \r\n                            <div>{item.price.format()}원 </div> \r\n                        </Grid>\r\n                        <Grid item xs style={{marginTop: '3px'}}> \r\n                            <div>{showRoomTitle(item)} </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item>\r\n                    <p style={{color:'gray', fontSize:'10px'}}>{showTime(item.updateTime)}</p> \r\n                    {item.unread === 0 ? '' : <NotificationsActiveIcon className={classes.icon} />}\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    })\r\n\r\n    const updateRead=(item)=>{\r\n        setRoom(room === item ? {} : item)\r\n        var id = {id:item.id}\r\n        axios.post(ip + \"/chat/updateRead\", id)\r\n        .then(res => {\r\n            \r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(err)\r\n        })\r\n    }\r\n\r\n    const toggleChange = (event, nextView) => {\r\n        if (nextView === null)\r\n            return\r\n        getRooms(nextView)\r\n        setView(nextView)\r\n    }\r\n    return (\r\n        <Grid container spacing={3}>\r\n            <Grid item style={{ textAlign: 'center' }}>\r\n                <ToggleButtonGroup orientation=\"vertical\" value={view} exclusive onChange={toggleChange}>\r\n                    <ToggleButton value=\"all\">\r\n                        <h4>전체</h4>\r\n                    </ToggleButton>\r\n                    <ToggleButton value=\"shopping\">\r\n                        <ShoppingCartIcon />\r\n                    </ToggleButton>\r\n                    <ToggleButton value=\"selling\">\r\n                        <AttachMoneyIcon />\r\n                    </ToggleButton>\r\n                </ToggleButtonGroup>\r\n            </Grid>\r\n            {/* 채팅방 리스트 */}\r\n            <Grid item>\r\n                <div className={classes.chatlist}>\r\n                    <h2 className={classes.border}>Messenger</h2>\r\n                    <List className={classes.root}>\r\n                        {roomList.length ? renderLists : <div> 채팅방이 없습니다 </div>}\r\n                    </List>\r\n                </div>\r\n            </Grid>\r\n            {/* 1대1 채팅방 */}\r\n            <Grid item style={{ width: '480px' }}>\r\n                {!(\"id\" in room) ? null :\r\n                    <div className={classes.chatroom}>\r\n                        <ChatRoom useRoom={[room, setRoom]} setRead={setRead} socket={socket} />\r\n                    </div>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react';\r\nimport \"../../lib/css/email.css\";\r\n\r\n\r\n\r\nconst schoolinfo=(props)=>{\r\n\r\n    return (\r\n        <div className=\"school_result_view\">\r\n            <ul>\r\n                <li onClick={props.onClick}>{props.isSelected} {props.school.school} </li>\r\n                <li>&nbsp;&nbsp;</li>\r\n                <li onClick={props.onClick}>{props.school.address}  </li>\r\n                \r\n                <br/>\r\n            </ul>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n\r\nexport default schoolinfo;\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\n\r\nconst schoolDetails=(props)=>{\r\n    return(\r\n        <div>\r\n            { props.isSelected ? <p>현재 재학중인 대학교: {props.school.school}</p> : null }\r\n        </div>\r\n    );\r\n}\r\n\r\nschoolDetails.defaultProps={\r\n    school:{\r\n        school:'',\r\n        address:'',\r\n        test:'',\r\n    }\r\n}\r\nexport default schoolDetails;\r\n","import React, { useState,useEffect } from 'react';\r\nimport SchoolInfo from \"./schoolinfo\"\r\nimport SchoolDetail from \"./schoolDetails\"\r\nimport \"../../lib/css/email.css\";\r\nimport \"../../lib/css/common.css\";\r\nimport axios from 'axios';\r\nimport {ip} from \"../../store/ip\"\r\nimport { styled } from '@material-ui/core/styles';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\n\r\nimport {Button,Dialog, Divider, DialogContent, IconButton, Typography} from '@material-ui/core';\r\n\r\n\r\nconst MyButton = styled(Button)({\r\n    background: 'rgb(12, 39, 114)',\r\n    border: 0,\r\n    borderRadius: 3,\r\n    color: 'white',\r\n    height: 48,\r\n    padding: '0 30px',\r\n    fontWeight:'bold',\r\n    width:'552px',\r\n    marginTop:'3px',\r\n  });\r\n\r\n\r\nfunction Schooltest(props) {\r\n\r\n\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const [school, setschool] = useState([]) /* csv파일 load */\r\n    const [schoolkey,setschoolkey] =useState(\"\") \r\n    const [selectedKey,setselectedKey] =useState(-1) /* 학교 선택 */\r\n    const [emailkey,setemailkey]=useState(\"\")\r\n    const [codekey,setcodekey]=useState(0)\r\n    const [iscodekey,setiscodekey]=useState(0)\r\n    const [Matchcode,setMatchcode]=useState(false)\r\n    const [SearchNum,setSearchNum]=useState(-1)\r\n\r\n    useEffect(() => {\r\n     getcsv();\r\n    },[]) \r\n    \r\n\r\n    /*파일로딩 */\r\n    const getcsv =()=>{\r\n      var csvFilePath = require(\"./school2.csv\");\r\n      var Papa = require(\"../../../node_modules/papaparse/papaparse.min.js\");\r\n      Papa.parse(csvFilePath, {\r\n        header:true,\r\n        download: true,\r\n        skipEmptyLines: true,\r\n        complete: updateData\r\n      });\r\n    }\r\n    const updateData = (res) => {\r\n        setschool(res.data)\r\n        console.log(res.data)\r\n    }\r\n\r\n    /*랜덤번호 */\r\n    const randcode = () => { \r\n    \r\n    if(emailkey===\"\")  alert(\"이메일을 입력해주세요.\") \r\n    \r\n      const codekey = Math.random().toString().substr(2,6);\r\n      axios.get(ip + '/email', { params: { id: emailkey, email :school[selectedKey].email,codekey: codekey }})\r\n      .then(() => {\r\n        alert(\"이메일이 전송되었습니다.\")\r\n    })\r\n      setcodekey(codekey)  \r\n    }\r\n\r\n\r\n    /*props 학교이름,인증 true false */\r\n    const SendSchool = () => {\r\n            props.SendSchool(school[selectedKey].school);\r\n;\r\n    }\r\n   \r\n    /*코드키 일치하는지 확인 */\r\n    const checkMatchCode = () => {\r\n      let timer;\r\n      if (timer)\r\n        clearTimeout(timer)\r\n      timer = setTimeout(() => {\r\n          if(codekey === iscodekey)\r\n          {\r\n            setMatchcode(true) \r\n            alert(\"일치!\")\r\n          }\r\n          else {\r\n              setMatchcode(false)\r\n              alert(\"불일치!\")\r\n            } \r\n      }, 500);\r\n    }\r\n\r\n\r\n    /*학교이름 출력/클릭 */\r\n    const mapToComponents = (data) => {\r\n        data.sort((a,b) => { return a.name > b.name; })\r\n        data = data.filter( (schoolinfo) => { \r\n            return schoolinfo.school.toLowerCase().indexOf(schoolkey.toLowerCase()) > -1;\r\n        } )\r\n        if (schoolkey !== ''&&SearchNum===1) {\r\n          return data.map((school, i) => {\r\n            return (\r\n                <SchoolInfo\r\n                    school={school} \r\n                    key={i}\r\n                    isSelected={selectedKey !== -1}\r\n                    onClick={()=>setselectedKey(school.number)}/>\r\n               );\r\n            });\r\n        } \r\n    }\r\n    /*모달 close ->props 호출 */\r\n    const handleClose =()=> {\r\n      setOpen(false)\r\n      SendSchool()\r\n      }\r\n      \r\n\r\n    return (\r\n    <div>\r\n        <IconButton onClick={() => setOpen(true)}>\r\n            <SchoolIcon fontSize=\"large\"/>\r\n        </IconButton>\r\n        <Typography variant=\"overline\">\r\n            * 학교 입력은 선택입니다 *\r\n        </Typography>\r\n        <Typography variant=\"overline\" style={{marginLeft: '1rem', fontWeight: 'bold'}}>\r\n          {Matchcode ? school[selectedKey].school + '인증성공' : '인증실패'}\r\n        </Typography>\r\n\r\n        <Dialog onClose={() =>setOpen(false)} open={open} >\r\n            <Divider variant=\"middle\" style={{ marginBottom: 25 }} />\r\n            <DialogContent >\r\n                <div className=\"school_Wrap\" >\r\n                    <h1>[학교 검색]</h1>\r\n                    <div className=\"school\">\r\n                        <form name=\"header_search_box\"\r\n                            action=\"#\"\r\n                            method=\"get\"\r\n                            target=\"_blank\">\r\n\r\n                            <input type=\"search\"\r\n                                name=\"keyword\"\r\n                                placeholder=\"학교 입력\"\r\n                                onChange={(e) => setschoolkey(e.target.value)}/>\r\n                        </form>\r\n\r\n                        <button className=\"header_button\" type=\"button\" onClick={() =>setSearchNum(-SearchNum)}></button>\r\n                    </div>\r\n                            \r\n                    <div className=\"school_result\">           \r\n                    {mapToComponents(school)} <br/><br/>\r\n                        <SchoolDetail \r\n                              isSelected={selectedKey !== -1}\r\n                              school={school[selectedKey]}\r\n                              />\r\n                      </div> \r\n                    </div>\r\n\r\n                <Divider variant=\"middle\" style={{ marginBottom: 25, height:3 }}/>\r\n                <div className=\"email_Wrap\" >\r\n                    <h1>[이메일 전송]</h1>\r\n                    <div className=\"email\" style={{ width: \"557px\" }} >\r\n                        <form name=\"header_search_box\"\r\n                            action=\"#\"\r\n                            method=\"get\"\r\n                            target=\"_blank\">\r\n\r\n                            <input type=\"search\"\r\n                                name=\"keyword\"\r\n                                placeholder=\"이메일 입력\"\r\n                                onChange={(e) => setemailkey(e.target.value)}\r\n                                style={{ width: \"200px\" }}/>\r\n                        </form>\r\n                        <div style={{width:\"200px\",marginleft:\"30px\",fontSize:\"20px\",lineHeight:\"50px\",display:\"inline-block\" }}>\r\n                        { school[selectedKey]? <p>@ {school[selectedKey].email}</p>:\r\n                           <div> ex) naver.com </div>}\r\n                        </div>\r\n                        <MyButton style={{width:\"145px\",float:\"right\" ,paddingRight:\"30px\"}}  onClick={randcode}> EMAIL 전 송 </MyButton>\r\n                    </div>\r\n\r\n                     <div>\r\n                        <h1 className=\"check\">[인증번호]</h1>\r\n                        <div className=\"email\">\r\n                            <form name=\"header_search_box\"\r\n                                action=\"#\"\r\n                                method=\"get\"\r\n                                target=\"_blank\">\r\n                                <input type=\"search\"\r\n                                 name=\"keyword\"\r\n                                 placeholder=\"인증번호 입력\"\r\n                                    onChange={(e) =>setiscodekey(e.target.value)}/>\r\n                            </form>\r\n\r\n                            <MyButton style={{width:\"145px\",marginLeft:\"15px\"}}  onClick={checkMatchCode}> 확 인 </MyButton>\r\n                           \r\n                            \r\n                        </div>\r\n                    </div> \r\n                </div>\r\n            </DialogContent>\r\n            <DialogContent style={{height:'60px',margin:'0 auto'}} >  \r\n                        <MyButton  \r\n                            color=\"primary\"\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            onClick={() => handleClose()}\r\n                            >\r\n                            확인\r\n                        </MyButton>      \r\n            </DialogContent>\r\n        \r\n        </Dialog>\r\n    </div>\r\n    )\r\n}\r\nexport default Schooltest;\r\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router,Route, Switch } from \"react-router-dom\";\nimport { hot } from 'react-hot-loader'\nimport { SnackbarProvider } from \"notistack\";\nimport \"../src/lib/css/main.css\"\n\nimport Store from \"./store/store\";\nimport Header from \"./components/Header\"\nimport Home from \"./components/FleamarketHome\"\nimport Login from \"./components/FleamarketLogin\"\nimport Footer from \"./components/Footer\"\nimport Action from \"./components/Action\"\nimport MyPage from \"./components/FleamarketMyPage\"\nimport socket from '../src/store/socket'\n\nfunction App() {\n  const [logged, setLogged] = useState(false)\n  const [openChat, setOpenChat] = useState(false)\n  const onLogin = () => { setOpenChat(false); setLogged(true) }\n  const onLogout = () => {\n    setLogged(false)\n    setOpenChat(false)\n    window.sessionStorage.clear()\n  }\n\n  useEffect(() => {\n    if(window.sessionStorage.getItem('id'))\n      onLogin()\n\n      socket.on(\"open_chat\",()=>{\n        setOpenChat(true)\n      })    \n  }, [])\n\n  return(\n    <Store.Provider value={{logged, onLogin, onLogout}}>\n      <Router basename=\"/fleamarket-82\">\n          <SnackbarProvider maxSnack={3}>\n            <Action useChat={[openChat, setOpenChat]}/>\n            <Header/>\n            <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/mypage\" component={MyPage} />\n            </Switch>\n            <Footer/> \n          </SnackbarProvider>\n      </Router>\n    </Store.Provider>\n  );\n}\n\nexport default hot(module)(App);","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Store from \"../store/store\";\r\nimport { useSnackbar } from 'notistack';\r\nimport logo_Image from \"../lib/image/test23.png\";\r\nimport test from \"../lib/image/test24.png\"\r\nimport { makeStyles,Tooltip } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles({\r\n  backImg: {\r\n    width: '100%',\r\n    height: 360,\r\n    backgroundImage:`url(${test})`,\r\n    backgroundSize: 'cover',\r\n    backgroundPosition:\"center\",\r\n    backgroundRepeat:\"no-repeat\",\r\n    position: 'absolute',\r\n    zIndex: -1\r\n  },\r\n  logo:{\r\n    maxWidth: '500px', \r\n    height: '130x', \r\n    cursor: 'pointer'\r\n  },\r\n  contents:{\r\n    margin: 'auto', \r\n    textAlign: 'center', \r\n    paddingTop: 70,\r\n    zIndex: 100\r\n  },\r\n  text:{\r\n    fontSize:\"20px\",\r\n    fontWeight:\"bold\"\r\n  },\r\n});\r\n\r\nfunction Header(props) {\r\n\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const id = window.sessionStorage.getItem(\"id\")\r\n\r\n  const clickLogo = () => {\r\n    console.log(props.history.location.pathname)\r\n    if(props.history.location.pathname === '/')\r\n      window.location.reload()\r\n    else\r\n      props.history.push('/')\r\n  }\r\n  const logout = (store) => {\r\n    enqueueSnackbar('로그아웃 했습니다')\r\n    store.onLogout()\r\n    props.history.push('/');    /* 체크 */\r\n  }\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.backImg}/>\r\n      <div className={classes.contents}>\r\n          <img onClick={() => clickLogo()}\r\n            className={classes.logo}\r\n            src={logo_Image} alt=\"팔이피플\" />\r\n          <Store.Consumer>\r\n            {store => (\r\n              <div style={{marginTop: 20}}>{\r\n              store.logged ?\r\n                <div className={classes.text}>\r\n                  <Tooltip title=\"클릭시 로그아웃\" placement='left'> \r\n                    <Link onClick={() => logout(store)}> {id}님 &nbsp; 로그아웃 </Link> \r\n                  </Tooltip>\r\n                </div>\r\n              : \r\n                <div className={classes.text}>\r\n                  <Link to=\"/login\">  LOGIN / SIGN IN  </Link>\r\n                </div>\r\n              }</div>\r\n            )}\r\n          </Store.Consumer>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default withRouter(Header)\r\n","module.exports = __webpack_public_path__ + \"static/media/test23.aa426d6c.png\";","module.exports = __webpack_public_path__ + \"static/media/test24.a80b9315.png\";","import React from \"react\";\r\nimport \"../lib/css/footer.css\";\r\nimport \"../lib/css/common.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Footer() {\r\n    return (\r\n      <div id=\"footer_wrap\" style={{marginTop: \"1rem\"}}>\r\n        <footer>\r\n          <div id=\"footer_info_wrap\">\r\n            <div className=\"footer_logo_wrap\">\r\n            </div>\r\n            <p>\r\n              <b>팔이피플</b> | (39177) 경북 구미시 대학로 61\r\n              <br />\r\n              <br />\r\n              <b>팔이피플은 통신판매중개자이며 통신판매의 당사자가 아닙니다. <br />\r\n              따라서 팔이피플은 판매자가 등록한 상품, 거래정보 및 거래에\r\n              대하여 책임을 지지 않습니다.</b>\r\n              <br /><br />\r\n              고객 상담 센터 : (054) 478-7114 FAX : (054) 478-7114 E-mail \r\n              <br />\r\n              <br />\r\n              <br />© PAR2PEOPLE Corp. ALL RIGHTS RESERVED.\r\n            </p>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    );\r\n}\r\nexport default withRouter(Footer);\r\n","import React from 'react'\r\nimport Chat from \"../container/chat/Chat\"\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { IconButton } from '@material-ui/core'\r\nimport ForumOutlinedIcon from '@material-ui/icons/ForumOutlined';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n// import CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\n\r\nfunction Action(props) {\r\n    const [openChat, setOpenChat] = props.useChat\r\n    return (\r\n      <div style={{position: 'fixed', marginLeft: '2rem', zIndex: '99'}}>\r\n        <div style={{display: 'flex', alignItems: 'baseline'}}>\r\n          <IconButton onClick={() => setOpenChat(!openChat)} style={{marginRight: '2rem'}}>\r\n            { openChat ? <CloseIcon fontSize=\"large\"/> : <ForumOutlinedIcon fontSize=\"large\"/> }\r\n          </IconButton>\r\n          { openChat ? <Chat/>: null }\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Action)\r\n","import {storage} from './firebase'\r\n\r\nfunction getImageUrls(props) {\r\n    const imgAry = props.imgAry\r\n    const setLoading = props.setLoading\r\n    const setImgUrls = props.setImgUrls\r\n    var urls = \"\"\r\n    imgAry.forEach((file) => {\r\n        if(typeof(file) === 'string'){\r\n            urls = urls === \"\" ? file : urls + \" \" + file\r\n            setImgUrls(urls)\r\n            return\r\n        }\r\n        const route = \"images/\" + file.name + \"_\" + new Date().toLocaleTimeString();\r\n        const uploadTask = storage.ref(route).put(file);\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            (snapshot) => { \r\n                setLoading((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\r\n            },\r\n            (err) => {\r\n                console.log(err);\r\n            },\r\n            () => { // 이미지 url 다운로드\r\n                uploadTask.snapshot.ref.getDownloadURL()\r\n                    .then((downloadURL) => {\r\n                        urls = urls === \"\" ? downloadURL : urls + \" \" + downloadURL\r\n                        setImgUrls(urls)\r\n                    })\r\n            }\r\n        )\r\n    })\r\n}\r\nexport default getImageUrls","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n    root: {\r\n      height: 10,\r\n      borderRadius: 5,\r\n      marginTop: '1rem',\r\n      marginBottom: '1rem'\r\n    },\r\n    colorPrimary: {\r\n      backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700],\r\n    },\r\n    bar: {\r\n      borderRadius: 5,\r\n      backgroundColor: '#1a90ff',\r\n    },\r\n}))(LinearProgress);\r\n\r\nfunction Progress(props) {\r\n    return (\r\n        <BorderLinearProgress variant=\"determinate\" value={props.value} />\r\n    )\r\n}\r\n\r\nexport default Progress\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Dialog, DialogContent, DialogContentText, IconButton, Slide } from '@material-ui/core';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nfunction Alert(props) {\r\n    const option = props.option\r\n    const [open, setOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setOpen(option.open)\r\n    }, option)\r\n\r\n    const Transition = React.forwardRef(function Transition(props, ref) {\r\n        return <Slide direction=\"up\" ref={ref} {...props} />;\r\n    })\r\n    const doAfter = () => {\r\n        if('doAfter' in option)\r\n            option.doAfter()\r\n        setOpen(false)\r\n    }\r\n    return (\r\n        <div>\r\n            {open ?\r\n                <Dialog open={open} TransitionComponent={Transition} keepMounted>\r\n                    <DialogContent style={{width: \"400px\", textAlign: \"center\"}}>\r\n                        <DialogContentText style={{fontWeight: 'bold'}}>\r\n                            {option.text}\r\n                        </DialogContentText>\r\n                        <IconButton onClick={() => doAfter()}>\r\n                            <DoneIcon/>\r\n                        </IconButton>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Alert","import React from \"react\";\r\nimport { Zoom } from \"@material-ui/core\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nfunction ImageUpload(props) {\r\n    const imageBoxStyle = {\r\n        width: 160,\r\n        height: 160,\r\n        display: \"inline-block\",\r\n        border: \"1px solid #e4e4e4\",\r\n        overflow: \"hidden\",\r\n    }\r\n\r\n    const imageStyle = {\r\n        resize: \"both\",\r\n        float: \"center\",\r\n        width: 160,\r\n        height: \"auto\",\r\n    }\r\n\r\n    const [imgAry, setImgAry] = props.useImgAry\r\n    const [imgBase64Ary, setImgBase64Ary] = props.useImgBase64Ary\r\n    const hiddenFileInput = React.useRef(null)\r\n    const handleClick = () => {\r\n        hiddenFileInput.current.click();\r\n    }\r\n\r\n    const inputImg = (e) => {\r\n        const files = Array.from(e.target.files)\r\n        if (!files)\r\n            return\r\n        setImgAry([...imgAry, ...files])\r\n        files.forEach(file => {\r\n            var reader = new FileReader()\r\n            reader.readAsDataURL(file)\r\n            reader.onloadend = () => {\r\n                const base64 = reader.result\r\n                if(base64){\r\n                    let arr = imgBase64Ary\r\n                    arr.push(base64.toString())\r\n                    console.log(arr)\r\n                    setImgBase64Ary([...arr])\r\n                }\r\n            }\r\n        })\r\n    }\r\n    const deleteImg = (idx) => {\r\n        let fileArr = [...imgAry]\r\n        fileArr.splice(idx, 1)\r\n        setImgAry([...fileArr])\r\n    }\r\n    const deleteNewImg = (idx) => {\r\n        let fileArr = [...imgAry]\r\n        fileArr.splice(imgAry.length - imgBase64Ary.length + idx, 1)\r\n        setImgAry([...fileArr])\r\n\r\n        let arr = [...imgBase64Ary]\r\n        arr.splice(idx,1)\r\n        setImgBase64Ary([...arr])\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <div style={{ width: 100, height: 100, border: \"1px solid lightgray\",\r\n                display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }} \r\n                onClick={handleClick}>\r\n                <input accept=\"image/*\" type=\"file\" multiple\r\n                    onChange={inputImg}\r\n                    ref={hiddenFileInput}\r\n                    style={{display: 'none'}}\r\n                />\r\n                <AddIcon color=\"action\" fontSize=\"large\"/>\r\n            </div>\r\n            {imgAry.map((image, idx) => {\r\n                if(typeof(image) === 'string' && image !== '')\r\n                    return (\r\n                    <Zoom key={idx} in={true} timeout={(imgAry.length - idx)*300}>\r\n                        <div onClick={()=> deleteImg(idx)} style={imageBoxStyle} >\r\n                        <img src={image} alt=\"미리보기\" style={imageStyle}/>\r\n                        </div>\r\n                    </Zoom>\r\n                    )\r\n                else return null\r\n            })}\r\n            {imgBase64Ary.map((image, idx) => {\r\n                return (\r\n                    <Zoom key={idx} in={true} timeout={(imgBase64Ary.length - idx)*300}>\r\n                        <div onClick={()=> deleteNewImg(idx)} style={imageBoxStyle} >\r\n                            <img src={image} alt=\"미리보기\" style={imageStyle}/>\r\n                        </div>\r\n                    </Zoom>\r\n                )}\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUpload;\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from 'axios'\r\nimport {ip} from \"../../store/ip\"\r\nimport getImageUrls from \"../../firebase/getImageUrls\";\r\nimport Progress from \"./Progress\";\r\nimport Alert from '../home/Alert'\r\n\r\nimport { Dialog, DialogContent, DialogContentText, Grid, IconButton, Input, InputAdornment, Paper, TextField, Typography } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport ImageUpload from \"./ImageUpload\";\r\nimport NearMeRoundedIcon from '@material-ui/icons/NearMeRounded';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport SettingsBackupRestoreIcon from '@material-ui/icons/SettingsBackupRestore';\r\n\r\n// 이 친구를 모달로 띄울지 아니면 Transitions으로 어코디언할지\r\n// url 의 params 를 활용하여 /upload 가 붙여야 보여주기\r\nfunction UploadBoardPage(props) {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const [title, setTitle] = useState(\"\")\r\n    const [price, setPrice] = useState(\"\")\r\n    const [contents, setContents] = useState(\"\")\r\n    const [imgUrls, setImgUrls] = useState(\"\")\r\n    const [imgAry, setImgAry] = useState([])\r\n    const [imgBase64Ary, setImgBase64Ary] = useState([]) // 미리보기\r\n\r\n    const [open, setOpen] = useState(false) \r\n    const [loading, setLoading] = useState(0)\r\n\r\n    const [alertOption, setAlertOption] = useState({})\r\n    const contentAlert = {open: true, text: \"모든 값을 넣어 주셔야 합니다\"}\r\n\r\n    // 숫자만 입력, 억 단위 이상은 지원 XX (sql price 길기가 9자리까지 수용)\r\n    const priceChange = (e) => {\r\n        const value = e.target.value.replace(/[^0-9]/g, '')\r\n        if(value.length < 10)\r\n            setPrice(value)\r\n    }\r\n    const reset = () => {\r\n        setTitle(''); setPrice(''); setContents(''); \r\n        setImgUrls(''); setImgAry([]); setImgBase64Ary([])\r\n        setLoading(0)\r\n    }\r\n    // 파이어베이스에 사진 업로드\r\n    const preUpload = () => {\r\n        if(!title || !contents || !price)\r\n            return setAlertOption(contentAlert)\r\n        \r\n        if(imgAry.length){\r\n            setOpen(true)\r\n            getImageUrls({imgAry:imgAry, setLoading: setLoading, setImgUrls: setImgUrls})\r\n        } else\r\n            submit()\r\n    }\r\n    // 게시물 게시\r\n    const submit = ()  => {\r\n        const body  = {\r\n            seller_id: window.sessionStorage.getItem('id'),\r\n            title: title,\r\n            images: imgUrls,\r\n            contents: contents,\r\n            price: price\r\n        }\r\n        axios.post(ip + \"/board/upload\", body)\r\n        .then(res => {\r\n            if(res.status !== 200)\r\n                return enqueueSnackbar('상품 업로드에 실패 했습니다.', {variant:'error'})\r\n            props.setOpenUL(false)\r\n            props.getBoards()\r\n            enqueueSnackbar('상품 업로드에 성공 했습니다.', {variant:'success'})\r\n            reset()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(err)\r\n        })\r\n        setOpen(false)\r\n    }\r\n    return (\r\n        <div style={{maxWidth: '700px', margin: '2rem auto'}}>\r\n            <Paper elevation={3} style={{padding: '40px 100px 100px 100px'}}>\r\n                <div style={{textAlign: 'center', marginBottom: '2rem'}}>\r\n                    <h2> 상품 업로드</h2>\r\n                </div>\r\n                <Grid container spacing = {3}>\r\n                    <Grid item xs={12}>\r\n                        <TextField onChange={(e) => {setTitle(e.target.value)}} \r\n                            value={title} \r\n                            label=\"글 제목\" \r\n                            fullWidth/>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Input onChange={priceChange} \r\n                            value={price.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} \r\n                            placeholder=\"가격 입력\" \r\n                            labelwidth={40}\r\n                            startAdornment={<InputAdornment position=\"start\">₩</InputAdornment>}/>\r\n                        <br/>\r\n                        <Typography variant=\"caption\"> 이더리움(ETH) {price *(0.0000227)} </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <TextField onChange={(e) => {setContents(e.target.value)}} \r\n                            value={contents} \r\n                            placeholder=\"올릴 게시글 내용을 작성해주세요.\" \r\n                            variant=\"outlined\" \r\n                            multiline fullWidth\r\n                            rows={7}/>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <ImageUpload useImgAry={[imgAry, setImgAry]} useImgBase64Ary={[imgBase64Ary, setImgBase64Ary]} />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <div style={{textAlign: 'center'}}>\r\n                            <IconButton onClick={reset}>\r\n                                <SettingsBackupRestoreIcon fontSize='large'/>\r\n                            </IconButton>\r\n                            <IconButton onClick={preUpload}>\r\n                                <NearMeRoundedIcon fontSize='large'/>\r\n                            </IconButton>\r\n                        </div>\r\n                    </Grid>\r\n                    <Alert option={alertOption}/>\r\n                \r\n                    <Dialog open={open}>\r\n                        <DialogContent style={{width: \"400px\", textAlign: \"center\"}}>\r\n                            <Progress value={loading}/>\r\n                            <DialogContentText>\r\n                                사진 업로드 중입니다\r\n                            </DialogContentText>\r\n                            <IconButton onClick={() => submit()} disabled={loading !== 100}>\r\n                                <DoneIcon/>\r\n                            </IconButton>\r\n                            <IconButton onClick={() => setOpen(false)}>\r\n                                <CloseIcon/>\r\n                            </IconButton>\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </Grid>\r\n            </Paper>\r\n            </div>\r\n    );\r\n}\r\nexport default withRouter(UploadBoardPage)","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Alert from '../home/Alert'\r\n\r\nimport { Button, FormControlLabel, Grid, Switch } from '@material-ui/core'\r\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\";\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\n\r\nfunction Filter(props) {\r\n  const school = window.sessionStorage.getItem(\"school\")\r\n  const getBoards = props.getBoards\r\n  const [alertOption, setAlertOption] = useState({})\r\n  const loginAlert= {open: true, text: \"로그인하시지요..\", doAfter: () => {props.history.push(\"/login\")}}\r\n  const noSchoolAlert= {open: true, text: \"내 학교를 인증받으세요!\", doAfter: () => {props.history.push(\"/mypage\")}}\r\n      \r\n  const [type, setType] = props.useType\r\n  const [align, setAlign] = props.useAlign\r\n  const [desc, setDesc] = props.useDesc\r\n  const [mySchoolText, setMySchoolText] = props.useSchool\r\n  const [viewMySchool, setViewMySchool] = useState(false)\r\n  const [viewNoContract, setViewNoContract] = props.useViewNoContract\r\n\r\n  const changType = (event, newType) => {\r\n      if (newType === null)\r\n          return\r\n      getBoards({type: newType})\r\n      setType(newType)\r\n  }\r\n  const changeAlign = (event, newAlign) => {\r\n      if (newAlign === null)\r\n          return\r\n      getBoards({align: newAlign})\r\n      setAlign(newAlign)\r\n  }\r\n  const changeCending = () => {\r\n      getBoards({desc: !desc})\r\n      setDesc(!desc)\r\n  }\r\n  const changeMySchool = () => {\r\n    if(!window.sessionStorage.getItem(\"id\"))\r\n      return setAlertOption(loginAlert)\r\n    if(school === '')\r\n      return setAlertOption(noSchoolAlert)\r\n\r\n    setMySchoolText(viewMySchool? '' : school)\r\n    getBoards({school: viewMySchool? '' : school})\r\n    setViewMySchool(!viewMySchool)\r\n  }\r\n  const changeViewNoContract = () => {\r\n    getBoards({viewNoContract: !viewNoContract})\r\n    setViewNoContract(!viewNoContract)\r\n  }\r\n  return (\r\n    <Grid item xs={12} style={{margin: '1rem'}}>\r\n      <Grid container spacing={3} justify=\"center\">\r\n        <Grid item >\r\n          <ToggleButtonGroup value={type} onChange={changType} exclusive style={{maxHeight: 50}}>\r\n            <ToggleButton value=\"all\">\r\n              <h4>전체</h4>\r\n            </ToggleButton>\r\n            <ToggleButton value=\"wish\">\r\n              <h4>찜한 물건</h4>\r\n            </ToggleButton>\r\n            <ToggleButton value=\"mine\">\r\n              <h4>내 물건</h4>\r\n            </ToggleButton>\r\n            <ToggleButton value=\"purchased\">\r\n              <h4>구매한 물건</h4>\r\n            </ToggleButton>\r\n          </ToggleButtonGroup>\r\n        </Grid>\r\n        \r\n        <Grid item >\r\n          <FormControlLabel \r\n            control={<Switch color=\"primary\" checked={viewMySchool} onChange={changeMySchool} />}\r\n            label={mySchoolText===''? '내 학교' : mySchoolText}\r\n          />\r\n        </Grid>\r\n        <Alert option={alertOption}/>\r\n\r\n        <Grid item>\r\n          <ToggleButtonGroup value={align} onChange={changeAlign} exclusive style={{maxHeight: 50}}>\r\n            <ToggleButton value=\"time\" >\r\n                <h4>시간순</h4>\r\n            </ToggleButton>\r\n            <ToggleButton value=\"view\">\r\n                <h4>조회순</h4>\r\n            </ToggleButton>\r\n            <Button onClick={() => changeCending()}>\r\n                {desc ? <ArrowDropDownIcon/>: <ArrowDropUpIcon/>}\r\n            </Button>\r\n            <Button color={viewNoContract ? 'primary' : 'action'} onClick={() => changeViewNoContract()}>\r\n              <DashboardIcon color={viewNoContract ? 'primary' : 'action'}/>\r\n              &nbsp;거래전 게시물만 보기\r\n            </Button>\r\n          </ToggleButtonGroup>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default withRouter(Filter)\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport {ip} from \"../../store/ip\"\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { Chip, Divider, Fade, Grid, IconButton, InputBase, List, ListItem, ListItemText, Paper, Popper, Tooltip} from '@material-ui/core'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport WhatshotOutlinedIcon from '@material-ui/icons/WhatshotOutlined';\r\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nfunction Search(props) {\r\n  const user_id = window.sessionStorage.getItem(\"id\")\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const getBoards = props.getBoards\r\n  const [word, setWord] = props.useWord\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [hotList, setHotList] = useState([])\r\n  const openHot = Boolean(anchorEl);\r\n  const popper_id = openHot ? 'transitions-popper' : undefined;\r\n\r\n  const [showKeywords, setShowKeywords] = useState(true)\r\n  const [keywords, setKeywords] = useState([])\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    searchHit()\r\n    getBoards({search: word})\r\n  }\r\n  \r\n  // 검색어 입력 횟수 누적\r\n  const searchHit = (text=word) => {\r\n    axios.post(ip+'/search', {text: text})\r\n      .then(() => {\r\n        getHotList()\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"검색어 입력에 실패 했습니다.\")\r\n      })\r\n  }\r\n  // 인기 검색어 창 열기\r\n  const clickHot = (e) => {\r\n    setAnchorEl(anchorEl ? null : e.currentTarget)\r\n    getHotList()\r\n  }\r\n  const getHotList = () => {\r\n    axios.get(ip+'/search', {params: {limit: 5}})\r\n      .then(res => {\r\n        const gets = res.data.searches[0]\r\n        setHotList(gets)\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"인기 검색어 조회에 실패 했습니다.\")\r\n      })\r\n  }\r\n  /* 검색 키워드 */\r\n  const clickKeyword = (text) => {\r\n    setWord(text)\r\n    searchHit(text)\r\n    getBoards({search: text})\r\n  }\r\n  const registKeyword = () => {\r\n    var invaild = (word.replace(' ', '') === '')\r\n    keywords.map((item) => {\r\n      if(item.keyword === word){\r\n        invaild=true\r\n        enqueueSnackbar('['+word +'] 키워드가 이미 있습니다', { variant: 'info'})\r\n      }\r\n    })\r\n    if(invaild)\r\n      return\r\n    axios.post(ip+'/users/keywords/register',  {user_id: user_id, keyword: word})\r\n      .then(() => {\r\n        getKeywords()\r\n        enqueueSnackbar('['+word +'] 키워드를 등록했습니다', { variant: 'success'})\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"키워드 등록에 실패 했습니다.\")\r\n      })\r\n  }\r\n  const deleteKeyword = (item) => {\r\n    axios.post(ip+'/users/keywords/delete',  {id: item.id})\r\n      .then(() => {\r\n        getKeywords()\r\n        enqueueSnackbar('['+item.keyword+'] 키워드를 삭제했습니다')\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"키워드 삭제에 실패 했습니다.\")\r\n      })\r\n  }\r\n\r\n  const getKeywords = () => {\r\n    if(!user_id)\r\n      return\r\n    axios.get(ip+'/users/keywords',  { params: {user_id: user_id}})\r\n      .then(res => {\r\n        const gets = res.data.keywords[0]\r\n        setKeywords([...gets])\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"키워드 조회에 실패 했습니다.\")\r\n      })\r\n  }\r\n  useEffect(() => {\r\n    getKeywords()\r\n  }, user_id)\r\n\r\n  return (\r\n    <Grid item xs={6}>\r\n      <Grid container justify=\"center\" alignItems=\"center\">\r\n        <form onSubmit={submitHandler}>\r\n          <Paper elevation={5} style={{padding: '2px 4px', display: 'flex', alignItems: 'center', width: 700}}>\r\n            \r\n            <Tooltip title=\"키워드 등록\" placement=\"left\"  >\r\n              <IconButton onClick={registKeyword}>\r\n                <StarRoundedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <InputBase style={{marginLeft: '1rem', fontWeight: 'bold', fontSize: '1.4rem', color: \"#34373B\", height: 60}}\r\n              value={word}\r\n              onChange={e => setWord(e.target.value)}\r\n              fullWidth\r\n            />\r\n            <Fade in={word !== ''}> \r\n                <IconButton onClick={() => {setWord(''); getBoards({search: ''})}}> \r\n                  <CloseIcon/> \r\n                </IconButton>\r\n            </Fade>\r\n\r\n            <Divider orientation=\"vertical\" style={{ height: 40, margin: 4}}/>\r\n\r\n            <IconButton type=\"submit\">\r\n              <SearchIcon />\r\n            </IconButton>\r\n            <Tooltip title=\"Top5 인기 검색어\" placement='right'>\r\n              <IconButton onClick={e => clickHot(e)}>\r\n                <WhatshotOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Popper id={popper_id} open={openHot} anchorEl={anchorEl} transition placement=\"right\">\r\n            {({ TransitionProps }) => (\r\n              <Fade {...TransitionProps} timeout={350}>\r\n                <List style={{margin: '2rem'}}>\r\n                  {hotList.map((item, idx) => {\r\n                    return(\r\n                      <ListItem button onClick={() => clickKeyword(item.text)}>\r\n                        <ListItemText primary={(1+idx)+\".  \"+item.text} />\r\n                      </ListItem>\r\n                      )\r\n                  })}\r\n                </List>\r\n              </Fade>\r\n            )}\r\n            </Popper>\r\n          </Paper>\r\n        </form>\r\n      </Grid>\r\n      <Grid container justify=\"center\" alignItems=\"center\" style={{marginTop: '0.8rem'}}>\r\n        <div style={{display: 'flex', width: 690, overflow: 'auto'}}> \r\n          {keywords.map((item, idx) => {\r\n            return (\r\n              <Fade in={showKeywords} key={idx} timeout={(idx+1)*100}>\r\n                <Chip variant=\"outlined\"\r\n                  label={item.keyword}\r\n                  onClick={() => clickKeyword(item.keyword)}\r\n                  onDelete={() => deleteKeyword(item)}\r\n                />\r\n              </Fade>\r\n            )\r\n          })}\r\n        </div>\r\n        <Tooltip title=\"내 키워드 목록\" placement='right'>\r\n          <IconButton size='small' onClick={() => setShowKeywords(!showKeywords)}>\r\n            {showKeywords ? <RemoveIcon/> : <AddIcon/> }\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Search\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport { useSnackbar } from 'notistack';\r\nimport {ip} from \"../../store/ip\"\r\nimport getImageUrls from \"../../firebase/getImageUrls\";\r\nimport Alert from \"../home/Alert\";\r\nimport ImageUpload from \"./ImageUpload\";\r\nimport Progress from \"./Progress\";\r\n\r\nimport { Button, IconButton, InputAdornment, InputBase,Tooltip, Typography } from '@material-ui/core'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core'\r\nimport DeleteOutlineRoundedIcon from '@material-ui/icons/DeleteOutlineRounded';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport socket from '../../store/socket'\r\n\r\n// 여러 상세페이지를 띄워 주고 싶은 기능 생각해야\r\nfunction BoardDetail(props) {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const user_id = window.sessionStorage.getItem(\"id\")\r\n    const [open, setOpen] = props.useOpen\r\n    //var board = JSON.parse(JSON.stringify(props.board)) // 깊은 복사\r\n    const [board, getBoards] = props.useBoard\r\n    const oriImgAry = board.images === '' ? [] : board.images.split(\" \")\r\n    const [fullImg,setFullImg]=useState(\"\")\r\n    const [openImgModal,setOpenImgModal]=useState(false)\r\n    \r\n    const [title, setTitle] = useState('')\r\n    const [price, setPrice] = useState('')\r\n    const [contents, setContents] = useState('')\r\n    const [imgUrls, setImgUrls] = useState('')\r\n    const [imgAry,setImgAry] = useState([])\r\n    const [imgBase64Ary, setImgBase64Ary] = useState([]) // 미리보기\r\n    const [responseTmp, setResPonseTmp] = useState('')\r\n    const [level, setLevel] = useState('')\r\n    const [sellerInfo, setSellerInfo] = useState(\"\")        //판매자정보저장\r\n    \r\n    useEffect(() => {\r\n        setTitle(board.title)\r\n        setPrice(board.price)\r\n        setContents(board.contents)\r\n        setImgUrls('')\r\n        setImgAry(board.images.split(\" \"))\r\n        setImgBase64Ary([])\r\n        getSellerInfo()\r\n    }, board)\r\n\r\n    const [edit, setEdit] = useState(false)\r\n    const [wish, setWish] = props.useWish   \r\n    const [alertOption, setAlertOption] = useState({})\r\n    const loginAlert = {open: true, text: \"로그인하시지요..\", doAfter: () => {props.history.push(\"/login\")}}\r\n\r\n    const [openDialog, setOpenDialog] = useState(false) \r\n    const [loading, setLoading] = useState(0)\r\n\r\n\r\n    const getSellerInfo = () => {\r\n        axios\r\n        .get(ip + '/board/sellerInfo', {\r\n            params : {\r\n                board_id : board.id\r\n            }\r\n        })\r\n        .then((data) => {\r\n            const result = data.data[0]\r\n            if (result) {\r\n                setResPonseTmp(result.responseRate)\r\n                setLevel(result.level)\r\n            }\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n    const myLevel = (level) => {\r\n        var lv = parseInt(level / 10)\r\n        if (lv === 0) return \"새내기\";\r\n        else if (lv === 1) return \"1 학년\";\r\n        else if (lv === 2) return \"2 학년\";\r\n        else if (lv === 3) return \"3 학년\";\r\n        else if (lv === 4) return \"4 학년\";\r\n        else if (lv === 5) return \"석사\";\r\n        else if (lv === 6) return \"박사\";\r\n        else if (lv === 7) return \"교수\";\r\n        else return \"전문가\";\r\n    }\r\n    const levelColor = (level) => {\r\n        switch(level){\r\n            case 0: return '#2f4f4f'\r\n            case 1: return '#cd853f'\r\n            case 2: return '#b8860b'\r\n            case 3: return '#006400'\r\n            case 4: return '#808000'\r\n            case 5: return '#000080'\r\n            case 6: return '#7b68ee'\r\n            case 7: return '#f08080'\r\n            default: return 'red'\r\n        }\r\n    }\r\n    const tmpColor = (tmp) => {\r\n        if(tmp > 37.0)\r\n            return '#ff00ff'\r\n        else if(tmp > 36.5)\r\n            return '#dc143c'\r\n        else if (tmp === 36.5)\r\n            return '#ff4500'\r\n        else\r\n            return '#4169e1'\r\n    }\r\n    const deleteBoard = () => {\r\n        axios\r\n            .post(ip + '/board/deleteboard', {\r\n            board_id: board.id\r\n            })\r\n            .then((data) => {\r\n                const state = data.data\r\n                console.log(data , state)\r\n                setOpen(false)\r\n                getBoards()\r\n                if (state===0 || state===1 || state===7 || state===11) \r\n                    enqueueSnackbar('게시글을 삭제했습니다.', { variant: 'success' })\r\n                else if (state === 4)\r\n                    enqueueSnackbar('거래완료한 게시글은 삭제할 수 없습니다.')\r\n                else\r\n                    enqueueSnackbar('거래중인 게시글을 삭제하지 못했습니다.')\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"게시물 삭제응답 오류\")\r\n            })\r\n    }\r\n    \r\n    const preEditBoard = (vaild) => {\r\n        setEdit(false)\r\n        if(vaild === false){ // 변경 초기화\r\n            setTitle(board.title); setPrice(board.price); setContents(board.contents)\r\n            setImgUrls(''); setImgAry(oriImgAry); setImgBase64Ary([]);\r\n            return\r\n        }\r\n\r\n        var isImgChange = false\r\n        var isNewImage = false\r\n        if(oriImgAry.length === imgAry.length){\r\n            oriImgAry.forEach((img, idx) => {\r\n                if(img !== imgAry[idx])\r\n                    isNewImage = true\r\n            })\r\n        } else {\r\n            isImgChange = true\r\n            imgAry.forEach((img) => {\r\n                if(typeof(img) !== 'string')\r\n                    isNewImage = true\r\n            })\r\n        }\r\n        // firebase에 upload할 사진이 있다면\r\n        if(isNewImage){\r\n            getImageUrls({imgAry: imgAry, setLoading: setLoading, setImgUrls: setImgUrls})\r\n            setOpenDialog(true)\r\n        }\r\n        else{\r\n            var tmpUrls = \"\"\r\n            imgAry.forEach((url) => { tmpUrls = (tmpUrls === \"\" ? url : tmpUrls + \" \" + url) })\r\n            editBoard(isImgChange, tmpUrls)\r\n        }\r\n        \r\n    }\r\n    const editBoard = (imgChange, url) => {\r\n        if(board.title === title && !imgChange && board.contents === contents && board.price === price)\r\n            return\r\n        const body  = {\r\n            board_id: board.id,\r\n            title: title,\r\n            images: url,\r\n            contents: contents,\r\n            price: price\r\n        }\r\n        axios.post(ip+'/board/edit', body)\r\n            .then(() => {\r\n                getBoards()\r\n                enqueueSnackbar('게시물이 수정되었습니다', { variant: 'success'})\r\n                setOpenDialog(false)\r\n                setOpen(false)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"게시물 수정 오류\")\r\n            })\r\n    }\r\n    const creatChat = () => {\r\n        if(!user_id)\r\n            return setAlertOption(loginAlert)\r\n\r\n        var newRoom_id = 0    \r\n        axios.get(ip+'/chat/new', {params:{seller_id: board.seller_id, buyer_id: user_id, board_id: board.id}})\r\n            .then(res => {\r\n                setOpen(false)\r\n                enqueueSnackbar(board.seller_id + '님과 대화를 시작합니다.')\r\n                newRoom_id = res.data.id\r\n                //판매자에게 새로운 채팅방 알림\r\n                var data = {user:board.seller_id, id:newRoom_id}\r\n                socket.emit(\"new_room\", data);  \r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"채팅방 개설응답 오류\")\r\n            })\r\n\r\n        \r\n    }\r\n    const wishBoard = () => {\r\n        if(!user_id)\r\n            return setAlertOption(loginAlert)\r\n            \r\n        axios.post(ip+'/board/wish', {isWish: wish, user_id: user_id, board_id: board.id})\r\n        .then(() => {\r\n            const message = wish ? \"  [찜하기] 해제했습니다!\" : \"  [찜하기] 시전!\"\r\n            setWish(!wish)\r\n            enqueueSnackbar(board.title + message)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(\"게시물 찜하기 오류\")\r\n        })\r\n    }\r\n\r\n    // 이미지 크게 보는 modal\r\n    const clickImgModal=(img)=>{ \r\n        setOpenImgModal(true)\r\n        setFullImg(img)\r\n    }\r\n    const Imagesmodal=()=>{ \r\n        return(\r\n            <Dialog open={openImgModal} onClose={() => setOpenImgModal(false)} \r\n                fullWidth={true} maxWidth={'lg'}>\r\n                <img src={fullImg} alt=\"fullImg\" onClick={() => setOpenImgModal(false)}\r\n                    style={{maxWidth: '100%', maxHeight: '100%', bottom: 0, left: 0,right: 0, top: 0,\r\n                    margin: 'auto',overflow: 'auto',position: 'fixed'}}/>\r\n           </Dialog>\r\n        )\r\n    }\r\n\r\n    // 숫자만 입력, 3자리 끊기, 억 단위 이상은 지원 XX (sql price 길기가 9자리까지 수용)\r\n    const priceChange = (e) => {\r\n        const value = e.target.value.replace(/[^0-9]/g, '')\r\n        if(value.length < 10)\r\n            setPrice(value)\r\n    }\r\n    \r\n    const BoardAction = () => {\r\n        if(board.seller_id === user_id)\r\n            return (<div style={{display: 'flex'}}>\r\n                { edit ? <div> \r\n                    <IconButton onClick={() => preEditBoard(true)}> \r\n                        <DoneIcon/>\r\n                    </IconButton>\r\n                    <IconButton onClick={() => preEditBoard(false)}>\r\n                        <CloseIcon/>\r\n                    </IconButton>\r\n                </div> :\r\n                    <IconButton onClick={() => setEdit(true)}>\r\n                        <EditOutlinedIcon/>\r\n                    </IconButton>\r\n                }\r\n                    <IconButton onClick={() => deleteBoard()}>\r\n                        <DeleteOutlineRoundedIcon/>\r\n                    </IconButton>\r\n            </div>)\r\n        else return (\r\n                <div>\r\n                    <IconButton onClick={()=>wishBoard()}>\r\n                        {wish ? <FavoriteIcon/> : <FavoriteBorderIcon/>}\r\n                    </IconButton>\r\n                    <Button autoFocus onClick={()=>creatChat()} color=\"primary\">\r\n                        판매자와 채팅하기\r\n                    </Button>\r\n                </div>\r\n    )}\r\n    /* 상품의 디테일 페이지 */\r\n    return (\r\n        <Dialog open={open} onClose={() => {preEditBoard(false); setOpen(false)}} scroll = 'paper' maxWidth={\"lg\"}>\r\n            {/* 상품 타이틀 */}\r\n            <DialogTitle>\r\n                <InputBase style={{ fontWeight: 'bold', fontSize: 'large', height: '13px'}}\r\n                    onChange={(e) => setTitle(e.target.value)}\r\n                    value={title}\r\n                    fullWidth\r\n                    readOnly={!edit}  \r\n                />\r\n                <Typography variant=\"overline\">\r\n                    {board.seller_id ? board.seller_id : '탈퇴한 사용자'}\r\n                </Typography>\r\n                <Typography variant=\"overline\" style={{marginLeft: '2rem', fontWeight: 'bold', color: tmpColor(responseTmp)}}>\r\n                    {responseTmp}℃\r\n                </Typography>\r\n                <Typography variant=\"overline\" style={{marginLeft: '1rem', fontWeight: 'bold', color: levelColor(level)}}>\r\n                    {myLevel(level)}\r\n                </Typography>\r\n                <div>\r\n                    <InputBase\r\n                        onChange={(e) => priceChange(e)}\r\n                        value={String(price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        readOnly={!edit}\r\n                        startAdornment={<InputAdornment position=\"start\">₩</InputAdornment>}\r\n                    />\r\n                    <Typography variant=\"caption\"> 이더리움(ETH) <span style={{fontWeight: 'bold'}}>{price *(0.0000227)}</span> </Typography>\r\n                </div>\r\n            </DialogTitle>\r\n\r\n            {/* 상품 상세정보 */}\r\n            <DialogContent dividers style={{ minWidth: 500, maxWidth: 650, minHeight: 600 }}>\r\n                <DialogContentText tabIndex={-1}>\r\n                    <InputBase\r\n                        onChange={(e) => setContents(e.target.value)}\r\n                        value={contents}\r\n                        multiline\r\n                        rows={7} rowsMin={7}\r\n                        readOnly={!edit}\r\n                    />\r\n                </DialogContentText>\r\n\r\n                { edit ? <ImageUpload useImgAry={[imgAry, setImgAry]} useImgBase64Ary={[imgBase64Ary, setImgBase64Ary]} /> \r\n                    : <div>{\r\n                        imgAry.map((image,index) => {\r\n                            return ( \r\n                                typeof(image) !== 'string' || image === '' ? null :\r\n                                <div key={index} onClick={()=>clickImgModal(image)}\r\n                                    style={{width: 200, height: 200, border: \"1px solid #e4e4e4\",\r\n                                        backgroundImage: `url(${image})`, backgroundSize:'contain', backgroundPosition:\"center\", backgroundRepeat:\"no-repeat\",\r\n                                        display: \"inline-block\", marginTop:\"20px\",}}\r\n                                />\r\n                        )})\r\n                    }</div>\r\n                }\r\n                {Imagesmodal()}    \r\n\r\n                <Dialog open={openDialog}>\r\n                    <DialogContent style={{width: \"400px\", textAlign: \"center\"}}>\r\n                        <Progress value={loading}/>\r\n                        <DialogContentText>\r\n                            사진 업로드 중입니다\r\n                        </DialogContentText>\r\n                        <IconButton onClick={() => editBoard(true, imgUrls)} disabled={loading !== 100}>\r\n                            <DoneIcon/>\r\n                        </IconButton>\r\n                        <IconButton onClick={() => setOpenDialog(false)}>\r\n                            <CloseIcon/>\r\n                        </IconButton>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </DialogContent>\r\n\r\n            {/* 기능수행 */}\r\n            <DialogActions>\r\n                <BoardAction/>\r\n            </DialogActions>\r\n            <Alert option={alertOption}/>\r\n        </Dialog>\r\n    )\r\n}\r\nexport default withRouter(BoardDetail)","import React, { useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport {ip} from \"../../store/ip\"\r\nimport BoardDetail from \"./BoardDetail\";\r\nimport noimg from '../../lib/image/noimg.png'\r\n\r\nimport { Card, CardActionArea, CardContent, CardMedia, Typography } from '@material-ui/core'\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\n\r\n// 여러 상세페이지를 띄워 주고 싶은 기능 생각해야\r\nfunction BoardThum(props) {\r\n    const user_id = window.sessionStorage.getItem(\"id\")\r\n    const [board, getBoards] = props.useBoard\r\n    const [open, setOpen] = useState(false)\r\n    const [wish, setWish] = useState(false)\r\n        \r\n    const printPast = (time) => {\r\n        var past = parseInt((new Date() - new Date(time))/1000)\r\n        if(past < 60)\r\n            return past + \"초 전\"\r\n        if(past < 3600)\r\n            return parseInt(past/60) + \"분 전\"\r\n        if(past < 86400)\r\n            return parseInt(past/3600) + \"시간 전\"\r\n        past /= 86400\r\n        if(past > 365)\r\n            return parseInt(past/365) + \"년 전\"\r\n        return past < 31 ? parseInt(past) + \"일 전\" : parseInt(past/12) + \"달 전\" \r\n    }\r\n\r\n    const clickBoard = () => {\r\n        axios.get(ip+'/board/hit', { params: { id: board.id }})\r\n        .then(() => {\r\n            board.hit += 1\r\n            getWish()\r\n            setOpen(true)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            alert(\"게시물 클릭응답 오류\")\r\n        })\r\n    }\r\n    const getWish = () => {\r\n        axios.get(ip + '/board/wish', { params: {board_id: board.id, user_id: user_id}})\r\n            .then(res => {\r\n                setWish(res.data.isWish)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                alert(\"찜상태조회 응답 오류\")\r\n            })\r\n    }\r\n\r\n    const boardState = (state) => {\r\n        switch(state){\r\n            default: case 0: case 1:\r\n                break\r\n            case 2: case 3:\r\n                return <span style={{fontWeight: \"bold\", color: '#cd5c5c', paddingRight: '1rem'}}>거래중</span>\r\n            case 4:\r\n                return <span style={{fontWeight: \"bold\", color: '#2f4f4f', paddingRight: '1rem'}}>거래완료</span>\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            {/* 게시판 썸네일 */}\r\n            <CardActionArea onClick={clickBoard}>\r\n                <Card style={{display: 'flex', height: 150}}>\r\n                    <CardMedia style={{ width: 150, height: 150}}\r\n                     image={board.images==='' ? noimg : board.images }\r\n                    />\r\n                    <CardContent style={{flex: 1}}>\r\n                        <Typography variant=\"h6\" align='left' noWrap style={{maxWidth: 345}}>\r\n                            {board.title}\r\n                        </Typography>\r\n                        <Typography color=\"textSecondary\" align='left'>\r\n                            {String(board.price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \" 원\"}\r\n                        </Typography>\r\n                        <Typography color=\"textSecondary\" align='left'>\r\n                            {board.seller_id}\r\n                        </Typography>\r\n                        <Typography color=\"textSecondary\" align='right'>\r\n                            {boardState(board.state)}\r\n                            {printPast(board.editDateTime) +  \"   \"} <WhatshotIcon fontSize=\"small\"/> {board.hit}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </Card>\r\n            </CardActionArea>\r\n            {/* 게시판 상세페이지 */}\r\n            <BoardDetail useBoard={[board, getBoards]} useOpen={[open, setOpen]} useWish={[wish, setWish]}/>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(BoardThum)","\r\nimport React from 'react'\r\nimport BoardThum from \"./BoardThum\"\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport { Grid, Grow, IconButton, Typography } from '@material-ui/core'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nfunction Board(props) {\r\n    const [boards, getBoards] = props.useBoard\r\n    \r\n    const showMore = () => {\r\n        getBoards({start_idx: boards.length})\r\n    }\r\n\r\n    // 상품 카드 이미지 좌측에 그리기,, view 아이콘으로 하기, 거래 상태를 표시\r\n    const renderBoards = boards.map((board,index) => {\r\n        return (\r\n            <Grow key={index} in={true} {...{ timeout: 200*(boards.length - index) }}>\r\n                <Grid item xs={12} sm={6} md={4}>\r\n                    <BoardThum index={index} useBoard={[board, getBoards]}/>\r\n                </Grid>\r\n            </Grow>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div style={{textAlign: 'center', padding: '0px 4rem 2rem 4rem'}}>\r\n            {/* 상품게시판 출력 */}\r\n            <Grid container spacing={4} style={{padding: \"3rem\"}}>\r\n                {renderBoards}\r\n            </Grid>\r\n            <div>\r\n                { boards.length === 0 ? <Typography> 게시물이 없습니다 </Typography> : \r\n                    boards.length % 6 ? <Typography> 더 이상 게시물이 없습니다 </Typography> : \r\n                    <IconButton onClick={showMore} > \r\n                        <ExpandMoreIcon fontSize={'large'} />\r\n                    </IconButton>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Board)","import React, { useEffect, useState } from \"react\";\r\nimport axios from 'axios'\r\nimport {ip} from \"../store/ip\"\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UploadBoard from \"../container/board/UploadBoard\";\r\nimport Chat from \"../container/chat/Chat\"\r\nimport Filter from \"../container/home/Filter\"\r\nimport Search from \"../container/home/Search\"\r\nimport Alert from \"../container/home/Alert\"\r\nimport Board from \"../container/board/Board\"\r\n\r\nimport { Collapse, Grid, IconButton } from \"@material-ui/core\";\r\nimport socket from '../store/socket'\r\nimport { useSnackbar } from 'notistack';\r\n\r\nfunction FleamarketHome(props){\r\n  const user_id = window.sessionStorage.getItem(\"id\")\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const [openUL, setOpenUL] = useState(false)\r\n  const [openChat, setOpenChat] = useState(false) \r\n  const [alertOption, setAlertOption] = useState({})\r\n  const loginAlert= {open: true, text: \"로그인하시지요..\", doAfter: () => {props.history.push(\"/login\")}}\r\n  \r\n  const [boards, setBoards] = useState([])\r\n  const [word, setWord] = useState(\"\")\r\n  const [school, SetSchool] = useState('')\r\n  \r\n  const SHOW_CNT = 6\r\n  const [type, setType] = useState('all')\r\n  const [align, setAlign] = useState('time')\r\n  const [desc, setDesc] = useState(true)\r\n  const [viewNoContract, setViewNoContract] = useState(false)\r\n\r\n  const clickUL = () => {\r\n    if(!window.sessionStorage.getItem(\"id\"))\r\n      return setAlertOption(loginAlert)\r\n    if(!openUL)\r\n      setOpenChat(false)\r\n    setOpenUL(!openUL)\r\n  }\r\n  const clickChat = () => {\r\n    if(!window.sessionStorage.getItem(\"id\"))\r\n      return setAlertOption(loginAlert)\r\n    if(!openChat)\r\n      setOpenUL(false)\r\n    setOpenChat(!openChat)\r\n  }\r\n  const clickMyPage = () => {\r\n    if(!window.sessionStorage.getItem(\"id\"))\r\n      return setAlertOption(loginAlert)\r\n    props.history.push('/mypage')\r\n\r\n  }\r\n  // SHOW_CNT 개수 만큼 계속 게시물을 가져온다 / 필터링 / 기본 시간순 출력\r\n  const getBoards = (arg={}) => {\r\n    var options = {\r\n      start_idx:    0, \r\n      cnt:          SHOW_CNT, \r\n      type:         type, \r\n      align:        align,\r\n      desc:         desc,\r\n      user_id:      user_id,\r\n      school:       school,\r\n      search:       word,\r\n      viewNoContract: viewNoContract,\r\n    }\r\n    for (var prop in arg)\r\n      options[prop] = arg[prop]\r\n\r\n    axios.get(ip+'/board',  { params: options})\r\n      .then(res => {\r\n        const gets = res.data.boards[0]\r\n        setBoards( options.start_idx ? [...boards, ...gets] : [...gets])\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        alert(\"상품들을 가져오는데 실패 했습니다.\")\r\n      })\r\n  }\r\n  \r\n  useEffect(() => {\r\n    getBoards()\r\n    socket.on(\"notification\", (data) => {\r\n      enqueueSnackbar(data.sender + '님이 ' + messageSnackbar(data.chatlog.type))\r\n    })\r\n  }, []) \r\n\r\n  const messageSnackbar = (type) => {\r\n    switch(type){\r\n      default: case 0: case 20: return '메시지를 보냈습니다'\r\n      case 1: return '[구매요청] 했습니다'\r\n      case 2: return '[구매수락] 했습니다'\r\n      case 3: return '[송금] 했습니다'\r\n      case 4: return '[구매확정] 했습니다'\r\n      case 9: return '채팅방을 나갔습니다'\r\n      case 10: return '거래 취소했습니다'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Alert option={alertOption}/>\r\n      <Grid spacing={1} container justify=\"center\" alignItems=\"center\" style={{marginTop: '1rem'}}>\r\n        {/* 액션창 */}\r\n        <Grid item xs={12}>\r\n          <div style={{textAlign: 'center'}}>\r\n            <IconButton onClick={() => clickUL()} >              \r\n              <img src=\"https://img.icons8.com/cotton/64/000000/upload-to-cloud--v1.png\" alt='bt1'/>\r\n            </IconButton>\r\n            <IconButton onClick={() => clickChat()}>\r\n              <img src=\"https://img.icons8.com/cotton/64/000000/chat.png\" alt='bt2'/>  \r\n            </IconButton>\r\n            <IconButton onClick={() => clickMyPage()}>\r\n              <img src=\"https://img.icons8.com/cotton/64/000000/gender-neutral-user--v1.png\" alt='bt3'/>\r\n            </IconButton>\r\n          </div>\r\n          <Grid container direction=\"column\" alignItems=\"center\">\r\n            <Collapse in={openUL}>\r\n              <UploadBoard getBoards={getBoards} setOpenUL={setOpenUL}/>\r\n            </Collapse>\r\n            <Collapse in={openChat}>\r\n              <div  style={{marginTop:\"30px\",marginBottom:\"10px\"}}>\r\n                <Chat />\r\n              </div>\r\n            </Collapse>\r\n          </Grid> \r\n        </Grid>\r\n\r\n        {/* 검색 */}\r\n        <Search getBoards={getBoards} useWord={[word, setWord]}/>\r\n        \r\n        {/* 필터링 */}\r\n        <Filter getBoards={getBoards} \r\n          useSchool={[school, SetSchool]}\r\n          useAlign={[align, setAlign]} \r\n          useType={[type, setType]} \r\n          useDesc={[desc, setDesc]}\r\n          useViewNoContract={[viewNoContract, setViewNoContract]}/>\r\n      </Grid>\r\n      \r\n      {/* 게시물 목록 */}\r\n      <Board useBoard={[boards, getBoards]}/>\r\n    </div>\r\n  )\r\n}\r\nexport default withRouter(FleamarketHome)","const io = require('socket.io-client');\r\nconst socket = io.connect();\r\n\r\nmodule.exports = socket; ","import React, { useState } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {ip} from \"../../store/ip\"\r\nimport axios from 'axios';\r\nimport Store from \"../../store/store\";\r\n\r\nimport { Button, Grid, Container, Typography, Paper, Input } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nfunction Login(props) {\r\n  const [id, setId] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    if(!id || !password)\r\n      return setMessage(\"모두 입력해주세요\")\r\n\r\n    axios.get(ip+\"/users/login\", { params: {id: id, password: password}})\r\n      .then(response => {\r\n        const res = response.data\r\n\r\n        // 로그인 실패시 {success, message}\r\n        if(!res.success){\r\n          setMessage(res.message)\r\n          return\r\n        }\r\n        // 로그인 성공시 {success, nickname, school}\r\n        window.sessionStorage.setItem('id',id)\r\n        window.sessionStorage.setItem('nickname', res.nickname)\r\n        window.sessionStorage.setItem('school',res.school)\r\n        console.log(res.school);\r\n        enqueueSnackbar('로그인에 성공했습니다')\r\n        props.onLogin()\r\n        props.history.push('/')\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  // 로그인 폼\r\n  const LoginForm = () => {\r\n    return (\r\n      <form noValidate onSubmit={onSubmit}>\r\n        <Grid container spacing={1} justify='center'>\r\n            <Grid item xs={8}>\r\n              <Input onChange={(e) => {setId(e.target.value)}}\r\n                value={id}\r\n                inputProps={{style: { textAlign: 'center',  fontSize: '1.3rem', color: \"#34373B\", marginTop: \"10px\" }}}\r\n                autoFocus\r\n                fullWidth/>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Input onChange={(e) => setPassword(e.target.value)}\r\n                value={password}\r\n                type=\"password\"\r\n                inputProps={{style: { textAlign: 'center',  fontSize: '1.4rem', color: \"#34373B\" }}}\r\n                fullWidth/>\r\n            </Grid>\r\n            <Grid item xs={8} style={{textAlign: 'center'}}>\r\n              {/* 버튼을 누를 때마다 이펙트, 타이머? */}\r\n              <Typography variant=\"overline\">\r\n                {message} &nbsp; \r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Button type=\"submit\" fullWidth variant=\"outlined\">\r\n                LOGIN\r\n              </Button>\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" style={{marginTop: 50}}>\r\n      <Paper elevation={5} style={{padding: '1rem'}}>\r\n        <Store.Consumer>\r\n          {store => ( \r\n              <div>\r\n                {store.logged ? \"logout\" : LoginForm()}\r\n              </div>\r\n          )}\r\n        </Store.Consumer>\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}\r\nexport default withRouter(Login)","\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {ip} from \"../../store/ip\"\r\nimport {TextField, Button, Container, Grid} from \"@material-ui/core\";\r\nimport SchoolCheck from \"./schooltest\";\r\n\r\nfunction Register(props) {\r\n  const [id, setId] = useState(\"\")\r\n  const [pw, setPw] = useState(\"\")\r\n  const [rpw, setRpw] = useState(\"\")\r\n  const [phone, setPhone] = useState(\"\")\r\n  const [name, setName] = useState(\"\")\r\n  const [birth, setBirth] = useState(\"\")\r\n  const [school, setSchool] = useState(\"\")\r\n  const [address, setAddress] = useState(\"\")\r\n  const [nickName, setNickName] = useState(\"\")\r\n  const [checkRpw, setCheckRpw] = useState(true)\r\n\r\n  // 아이디 저장 함수\r\n  const checkID = (id) => {\r\n    // [대문자,소문자,숫자로 시작, 길이는 5~15자, 끝날때 영문 대문자,소문자,숫자]\r\n    // const idReg = /^[A-za-z0-9]{5,15}$/g\r\n    // let timer;\r\n    // if (timer)\r\n    //   clearTimeout(timer);\r\n    // timer = setTimeout(() => {\r\n      \r\n    // }, 1000);\r\n    setId(id)\r\n  };\r\n\r\n  // 패스워드 저장 함수\r\n  const checkPassword = (pw) => {\r\n    // var regExp = /^[a-zA-Z0-9]{5,20}$/;\r\n    if(rpw !== \"\")\r\n      setCheckRpw(rpw === pw)\r\n    setPw(pw)\r\n  };\r\n  // 패스워드 매칭 함수\r\n  const checkRepassword = (rpw) => {\r\n    setCheckRpw(rpw === pw)\r\n    setRpw(rpw)\r\n  };\r\n\r\n  // 전화번호 저장 함수 (서버로 보낼 땐 - 없애기)\r\n  const checkPhoneNumber = (v) => {\r\n    var num = v.replace(/[^0-9]/g, \"\").substring(0,11)\r\n    if(num.length > 3)\r\n      num = num.substring(0,3)+\"-\"+num.substring(3)\r\n    if(num.length > 8)\r\n      num = num.substring(0,8)+\"-\"+num.substring(8)\r\n    setPhone(num)\r\n  }\r\n  const checkBirth = (v) => {\r\n    // 2020-01-01 정규식\r\n    var num = v.replace(/[^0-9]/g, \"\").substring(0,8)\r\n    setBirth(num)\r\n  }\r\n\r\n  \r\n  /*학교이름,true false 받아오기 */\r\n  const SendSchool = (school) => {\r\n \r\n    setSchool(school)\r\n    \r\n}\r\n\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newUser = {\r\n      id: id,\r\n      pw: pw,\r\n      name: name,\r\n      nickName: nickName,\r\n      phone: phone.replace(/[^0-9]/g, \"\"),\r\n      address: address,\r\n      birth: birth.replace(/[^0-9]/g, \"\"),\r\n      school: school,\r\n    };\r\n    // 입력이 전부 있는지 체크\r\n    if(!id || !pw || !name || !nickName || !phone || !address || !birth)\r\n      alert(\"모든 값을 넣어 주셔야 합니다\")\r\n    \r\n    // 중복 아이디, 중복 닉네임 있는지 체크\r\n\r\n    // 데이터 입력\r\n    axios.post(ip+\"/users/register\", newUser)\r\n      .then(res => {\r\n        alert(\"회원가입에 성공했습니다! 축하드립니다!\")\r\n        props.history.push('/')\r\n        // 로그인\r\n      })\r\n      .catch(e => {\r\n        console.log(e)\r\n      })\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n        <form noValidate onSubmit={onSubmit}>\r\n          <Grid container spacing={2}>\r\n            {/* 아이디 */}\r\n            <Grid item xs={12}>\r\n              <TextField value={id}\r\n                onChange={(e) => checkID(e.target.value)}\r\n                // onBlur={(e) => onCheckDuplicateID(e)}\r\n                variant=\"outlined\"\r\n                required fullWidth\r\n                label=\"ID\"\r\n              />\r\n            </Grid>\r\n            {/* 비밀번호 */}\r\n            <Grid item xs={6}>\r\n              <TextField\r\n                value={pw}\r\n                onChange={(e) => checkPassword(e.target.value)}\r\n                variant=\"outlined\"\r\n                required fullWidth\r\n                label=\"비밀번호\"\r\n                type=\"password\"\r\n              />\r\n            </Grid>\r\n            {/* 비밀번호 확인 */}\r\n            <Grid item xs={6}>\r\n              <TextField value={rpw} \r\n                onChange={(e) => checkRepassword(e.target.value)}\r\n                variant=\"outlined\"\r\n                required fullWidth\r\n                label=\"비밀번호 확인\"\r\n                type=\"password\"\r\n                error={!checkRpw} helperText={checkRpw ? \"\" : \"비밀번호 불일치\"}\r\n              />\r\n            </Grid>\r\n            {/* 닉네임 */}\r\n            <Grid item xs={12}>\r\n              <TextField value={nickName} \r\n                onChange={(e) => { setNickName(e.target.value)}}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"닉네임\"\r\n              />\r\n            </Grid>\r\n            {/* 이름 */}\r\n            <Grid item xs={12}>\r\n              <TextField value={name} \r\n                onChange={(e) => {setName(e.target.value)}}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"이름\"\r\n              />\r\n            </Grid>\r\n            {/* 핸드폰 번호 */}\r\n            <Grid item xs={12}>\r\n              <TextField  \r\n                value={phone}\r\n                onChange={(e) => checkPhoneNumber(e.target.value)}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label=\"휴대전화 입력\"\r\n              />\r\n            </Grid>\r\n            {/* 생년월일 */}\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                value={birth}\r\n                onChange={(e) => { checkBirth(e.target.value)}}\r\n                required\r\n                fullWidth\r\n                label=\"생년월일 입력\"\r\n                placeholder=\"(형식 2020-01-01)\"\r\n                type=\"birth\"\r\n              />\r\n            </Grid>\r\n            {/* 주소 */}\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                value={address}\r\n                onChange={(e) => {setAddress(e.target.value)}}\r\n                required\r\n                fullWidth\r\n                label=\"주소 입력\"\r\n                placeholder=\"*(형식:경상북도 구미시 상세주소)\"\r\n                type=\"address\"\r\n              />\r\n            </Grid>\r\n                 {/* 학교 인증 */}\r\n            <Grid item xs={12}>\r\n              <SchoolCheck SendSchool={SendSchool}/>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12}>\r\n              <Button style={{height: \"50px\", fontSize: \"15px\"}}\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\">\r\n                가입하기\r\n              </Button>\r\n            </Grid>\r\n          </Grid> \r\n        </form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);","import React, { useState } from \"react\";\r\nimport Store from \"../store/store\"\r\nimport Login from \"../container/user/Login\";\r\nimport Register from \"../container/user/Register\";\r\n\r\nimport { Button, Collapse } from \"@material-ui/core\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction FleamarketLogin() {\r\n\r\n  const [open, setOpen] = useState(false)\r\n  \r\n  return (\r\n    <div>\r\n      <Store.Consumer>\r\n        {store => (\r\n            <Login onLogin={store.onLogin}/>\r\n          )}             \r\n      </Store.Consumer>\r\n\r\n      <div style={{textAlign: 'center', margin: '2rem'}}>\r\n        <Button onClick={() => setOpen(!open)}> \r\n          {open ? \"닫기\" : \"회원가입\"} \r\n        </Button>\r\n      </div>\r\n      <Collapse in={open}>\r\n        <Register/>\r\n      </Collapse>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(FleamarketLogin)","import React, { useEffect, useState } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {ip} from \"../../store/ip\"\r\nimport axios from \"axios\"\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { Dialog, DialogTitle, Grid, TextField, IconButton } from \"@material-ui/core\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport SchoolCheck from \"../user/schooltest\"\r\n\r\nimport defaultProfileImage from \"../../lib/image/profile.png\"\r\n\r\nconst CenterDialog = withStyles((theme) => ({\r\n    root: {\r\n        textAlign : 'center',\r\n        alignItems : 'center',\r\n        fontSize: '10px',\r\n        border:'1px',\r\n        margin:'auto',\r\n    }\r\n}))(Dialog);\r\n\r\nfunction Dialogtest(props) {\r\n    const [Open, setOpen] = useState(false)\r\n\r\n    const id = window.sessionStorage.getItem('id')\r\n    const [nickname, setNickname] = useState(\"\")\r\n    const [name, setName] = useState(\"\")\r\n    const [phone, setPhone] = useState(\"\")\r\n    const [address, setAddress] = useState(\"\")\r\n    const [birth, setBirth] = useState(\"\")\r\n    const [school, setSchool] = useState(\"\")\r\n\r\n    const [deleteValid, setDeleteValid] = useState(false)\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    useEffect(() => {\r\n        getUserInfo()\r\n        deleteUserInfoValid()\r\n      }, [])\r\n\r\n    const getUserInfo = () => {\r\n        axios\r\n          .get(ip + \"/mypages/profile\", {\r\n            params: {\r\n              id: id //서버에 전송\r\n            },\r\n          })\r\n          .then((data) => {\r\n            const userData = data.data[0];    //받아옴\r\n            setNickname(userData.nickname)\r\n            setName(userData.name)\r\n            setPhone(userData.phone)\r\n            setAddress(userData.address)\r\n            setBirth(userData.birth)\r\n            setSchool(userData.school)\r\n            \r\n          });\r\n    }\r\n\r\n    const updateUserInfo = () => {\r\n        axios\r\n            .post(ip + \"/mypages/updateinfo\", {\r\n                id : id,\r\n                nickname : nickname,\r\n                address : address,\r\n                school : school,\r\n            })\r\n            .then((res) => {\r\n                console.log(res);\r\n                \r\n                window.sessionStorage.setItem('school', school)\r\n                props.refresh()\r\n                enqueueSnackbar('수정되었습니다 !')\r\n            })\r\n            .catch (err => {\r\n                console.log(err)\r\n                enqueueSnackbar('실패하였습니다')\r\n        })\r\n    }\r\n\r\n    const checkDeleteAgain = () => {\r\n        if (window.confirm(\"정말 회원탈퇴를 진행할까요?\"))\r\n            return true\r\n        else return false\r\n    }\r\n\r\n    /* 회원탈퇴가능한지 유효성검사 */\r\n    const deleteUserInfoValid = () => {\r\n        axios\r\n            .get(ip+'/mypages/deleteinfovalid',{\r\n                params :{\r\n                    user_id : id\r\n                }\r\n            })\r\n            .then(data=>{\r\n                const result = data.data[0].count\r\n                console.log(result)\r\n                if(result!==0) {\r\n                    console.log(\"회원삭제불가\")\r\n                    setDeleteValid(false)}\r\n                else {\r\n                    console.log(\"회원삭제가능\")\r\n                    setDeleteValid(true)}\r\n            })\r\n            .catch(err=>{console.log(err)})\r\n    }\r\n    /* 회원탈퇴 시 내 거래전인 게시물 다 없애며 탈퇴 */\r\n    const deleteUserInfo = () => {\r\n\r\n        if (deleteValid && checkDeleteAgain() ) {\r\n                console.log(\"넘길 아이디 : \"+id)\r\n                deleteUserBoard()   // 상태가 0인 나의 게시물도 전부 삭제하는 함수\r\n                deleteUser()\r\n        }\r\n        else {enqueueSnackbar('회원탈퇴가 불가능합니다.')}\r\n    }\r\n    /* DB에서 유저정보삭제 */\r\n    const deleteUser = () => {\r\n        axios\r\n        .post(ip + \"/mypages/deleteinfo\", {\r\n            id : id\r\n        })\r\n        .then((res) => {\r\n            console.log(res);\r\n            enqueueSnackbar('회원탈퇴 되었습니다.')\r\n            //logout(store)\r\n            //'로그아웃' 후 메인화면으로이동\r\n            props.history.push('/');\r\n        })\r\n        .catch (err => {\r\n            console.log(err)\r\n            enqueueSnackbar('회원탈퇴가 정상적으로 이루어지지 않았습니다.')\r\n        })\r\n    }\r\n    const deleteUserBoard = () => {\r\n        axios\r\n        .post(ip+'/mypages/deleteuserboard', {\r\n            id : id\r\n        })\r\n        .then((res)=>{\r\n            console.log(res);\r\n            enqueueSnackbar(\"내 '거래 전인 게시물'이 모두 삭제되었습니다.\")\r\n        })\r\n        .catch (err => {\r\n            console.log(err)\r\n            enqueueSnackbar(\"내 게시물이 아직 삭제되지 않았습니다.\")\r\n        })\r\n    }\r\n\r\n    const closeAndRefresh = () => {\r\n        setOpen(false)\r\n        window.location.reload()\r\n    }\r\n\r\n    const isNull = (value) => {\r\n        if (!value) return \"아직 없어요 ! :)\"\r\n        else return value\r\n    }\r\n\r\n       /*학교이름,true false 받아오기 */\r\n       const SendSchool = (school) => {\r\n        \r\n        setSchool(school)\r\n        \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <IconButton variant=\"text\" onClick={() => setOpen(true)}><EditIcon fontSize='large'/></IconButton>\r\n\r\n            <CenterDialog open={Open} onClose={() => setOpen(false)}>\r\n                <DialogTitle>회원 정보 수정</DialogTitle>\r\n                <form>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <img src={defaultProfileImage} width=\"100\" height=\"100\" alt=\"프로필사진\"/>\r\n                        </Grid>                        \r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"ID\" value={id} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Nickname\" value={nickname} onInput={e => setNickname(e.target.value)}/>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Name\" value={name} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Phone Number\" value={phone} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Address\" value={address} onInput={e => setAddress(e.target.value)} />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"Birth\" value={birth} disabled readOnly />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField label=\"School\" value={isNull(school)} disabled readOnly />\r\n                            {school ? null : <SchoolCheck  SendSchool={SendSchool}/>}\r\n                        </Grid>\r\n                    </Grid>\r\n                    <br></br>\r\n                    <div style={{marginBottom: '10px'}}>\r\n                        <IconButton variant=\"text\" onClick={() => updateUserInfo()}><CheckIcon color=\"grey\"/></IconButton>\r\n                        <IconButton variant=\"text\" onClick={() => deleteUserInfo()}><DeleteForeverIcon color=\"grey\"/></IconButton>\r\n                        <IconButton variant=\"text\" onClick={() => closeAndRefresh()}><CloseIcon color=\"grey\"/></IconButton>\r\n                    </div>\r\n                </form>\r\n            </CenterDialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Dialogtest)","import React, { useEffect, useState } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport defaultProfileImage from \"../../lib/image/profile.png\"\r\nimport { ip } from \"../../store/ip\"\r\nimport axios from \"axios\"\r\nimport Dialogtest from \"./dialogtest\"\r\nimport noimg from \"../../lib/image/noimg.png\"\r\n\r\nimport { Table, TableHead, TableBody, TableRow, TableCell, Box, LinearProgress, Typography, Grid, Paper, Tooltip, IconButton } from '@material-ui/core'\r\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\"\r\n\r\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined';\r\nimport StoreOutlinedIcon from '@material-ui/icons/StoreOutlined';\r\nimport FavoriteOutlinedIcon from '@material-ui/icons/FavoriteOutlined';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\n\r\nconst CenterBox = withStyles((theme) => ({\r\n    root: {\r\n        textAlign: 'center',\r\n        alignItems: 'center',\r\n        border: '2px',\r\n        margin: 'auto',\r\n        padding: '30px',\r\n        width: '60%',\r\n\r\n    },\r\n}))(Box);\r\n\r\nconst CenterTable = withStyles((theme) => ({\r\n    root: {\r\n        textAlign: 'center',\r\n        padding: '50px',\r\n    }\r\n}))(Table);\r\n\r\nconst FlexBox = withStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        border: '2px',\r\n        margin: 'auto',\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n    }\r\n}))(Box)\r\n\r\nconst NavyTypography = withStyles((theme) => ({\r\n    root: {\r\n        color: 'Navy',\r\n    }\r\n}))(Typography)\r\n\r\nconst SizeLinearProgress = withStyles((theme) => ({\r\n    root: {\r\n        height: '20px',\r\n        color: 'pink',\r\n    }\r\n}))(LinearProgress)\r\n\r\nfunction MypageProfile(props) {\r\n\r\n    const id = window.sessionStorage.getItem('id')\r\n    const [nickname, setNickname] = useState(\"\")\r\n    const [level, setLevel] = useState(\"\")\r\n    const [responseRate, setResponseRate] = useState(\"\")\r\n    const [name, setName] = useState(\"\")\r\n    const [phone, setPhone] = useState(\"\")\r\n    const [address, setAddress] = useState(\"\")\r\n    const [birth, setBirth] = useState(\"\")\r\n    const [school, setSchool] = useState(\"\")\r\n\r\n    //mysell 추가\r\n    const [allMysellList, setAllMysellList] = useState([])\r\n    const [mysellvisibility, setMysellvisibility] = useState(\"visible\")\r\n    const [myselldisplay, setMyselldisplay] = useState(\"block\")\r\n\r\n    //mybuy추가\r\n    const [allMybuyList, setAllMybuyList] = useState([])\r\n    const [mybuyvisibility, setMybuyvisibility] = useState(\"hidden\")\r\n    const [mybuydisplay, setMybuydisplay] = useState(\"none\")\r\n\r\n    //mywish 추가\r\n    const [allMywishList, setAllMywishList] = useState([])\r\n    const [mywishvisibility, setMywishvisibility] = useState(\"hidden\")\r\n    const [mywishdisplay, setMywishdisplay] = useState(\"none\")\r\n\r\n    const [menu, setMenu] = useState('sell')\r\n\r\n    useEffect(() => {\r\n        getUserInfo()\r\n        getMysell()\r\n        getMybuy()\r\n        getMywish()\r\n        myLevel()\r\n    }, [])\r\n\r\n    const getUserInfo = () => {\r\n        axios\r\n            .get(ip + \"/mypages/profile\", {\r\n                params: {\r\n                    id: id //서버에 넘긴다 \r\n                },\r\n            })\r\n            .then((data) => {\r\n                const userData = data.data[0];    //받아옴\r\n                \r\n                setNickname(userData.nickname)\r\n                setLevel(userData.level)\r\n                setResponseRate(userData.responseRate)\r\n                setName(userData.name)\r\n                setBirth(userData.birth)\r\n                setAddress(userData.address)\r\n                setPhone(userData.phone)\r\n                setSchool(userData.school)\r\n            });\r\n    }\r\n\r\n    const getMysell = () => {\r\n        axios\r\n            .get(ip + \"/mypages/mysell\", {\r\n                params: {\r\n                    user_id: id //유저아이디 서버에 전송 \r\n                },\r\n            })\r\n            .then((data) => {\r\n\r\n                const list = data.data;    //받아옴\r\n                setAllMysellList(list)\r\n                console.log(\"user id : \" + id);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    const getMybuy = () => {\r\n        axios\r\n            .get(ip + \"/mypages/mybuy\", {\r\n                params: {\r\n                    user_id: id //유저아이디로 \r\n                },\r\n            })\r\n            .then((data) => {\r\n                const list = data.data;    //받아옴\r\n                setAllMybuyList(list)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    const getMywish = () => {\r\n        axios\r\n            .get(ip + \"/mypages/mywish\", {\r\n                params: {\r\n                    user_id: id //유저아이디로 \r\n                },\r\n            })\r\n            .then((data) => {\r\n                const list = data.data;    //받아옴\r\n                setAllMywishList(list)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    //0: 거래전 1:예약중 2: 거래완료\r\n    const boardState = (conState) => {\r\n        if (conState === 0) {\r\n            return \"거래전\"\r\n        }\r\n        else if (conState === 1) {\r\n            return \"예약중\"\r\n        }\r\n        else if (conState === 2) {\r\n            return \"거래완료\"\r\n        }\r\n        else return \"확인불가능\"\r\n    }\r\n\r\n    const displayMysell = () => {\r\n        setMysellvisibility(\"visible\"); setMyselldisplay(\"block\")\r\n        setMybuyvisibility(\"hidden\"); setMybuydisplay(\"none\")\r\n        setMywishvisibility(\"hidden\"); setMywishdisplay(\"none\")\r\n    }\r\n\r\n    const displayMybuy = () => {\r\n        setMysellvisibility(\"hidden\"); setMyselldisplay(\"none\")\r\n        setMybuyvisibility(\"visible\"); setMybuydisplay(\"block\")\r\n        setMywishvisibility(\"hidden\"); setMywishdisplay(\"none\")\r\n    }\r\n\r\n    const displayMywish = () => {\r\n        setMysellvisibility(\"hidden\"); setMyselldisplay(\"none\")\r\n        setMybuyvisibility(\"hidden\"); setMybuydisplay(\"none\")\r\n        setMywishvisibility(\"visible\"); setMywishdisplay(\"block\")\r\n    }\r\n\r\n    const myLevel = (level) => {\r\n        var lv = parseInt(level / 10)\r\n        //console.log(lv)\r\n        if (lv === 0) return \"새내기\";\r\n        else if (lv === 1) return \"1학년\";\r\n        else if (lv === 2) return \"2학년\";\r\n        else if (lv === 3) return \"3학년\";\r\n        else if (lv === 4) return \"4학년\";\r\n        else if (lv === 5) return \"석사\";\r\n        else if (lv === 6) return \"박사\";\r\n        else if (lv === 7) return \"교수\";\r\n        else return \"전문가\";\r\n    }\r\n\r\n    const isNull = (value) => {\r\n        if (!value) return \"아직 없어요 ! :)\"\r\n        else return value\r\n    }\r\n\r\n    const handleMenu = (event, selectedValue) => {\r\n        setMenu(selectedValue);\r\n    };\r\n\r\n    const showPhoneNumber = (value) => {\r\n        if (!value) return \"아직 없어요 ! :)\"\r\n        else {\r\n            return value.substring(0,3)+\"-\"+value.substring(3,7)+\"-\"+value.substring(7,11)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box component=\"div\" padding=\"100px 0 0 0\">\r\n            <CenterBox component=\"div\">\r\n                <Paper>\r\n                    <Grid container spacing={3} style={{ textAlign: \"center\" }}>\r\n                        <Grid item xs={12}>\r\n                            <FlexBox>\r\n                                <NavyTypography variant=\"h4\">{nickname}</NavyTypography>\r\n                                <Typography variant=\"h4\" color=\"textSecondary\">님 반가워요 !</Typography>\r\n                            </FlexBox>\r\n                        </Grid>\r\n                        <br /><br /><br />\r\n                        <Grid item xs={2} style={{ paddingLeft: \"50px\" }}>\r\n                            <img src={defaultProfileImage} width=\"150\" height=\"150\" alt=\"프로필이미지\" />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2} style={{ paddingLeft: \"40px\" }}>\r\n                            <br /><br />\r\n                            <Box component=\"div\" minWidth={100}>\r\n                                <Typography variant=\"h6\" color=\"textSecondary\">내 응답 온도&nbsp;</Typography>\r\n                            </Box>\r\n                            <br />\r\n                            <Box component=\"div\" minWidth={100}>\r\n                                <Typography variant=\"h6\" color=\"textSecondary\">내 레벨&nbsp;</Typography>\r\n                                <Tooltip title=\"♥레벨 가이드♥&nbsp;&nbsp;&nbsp;&nbsp;새내기 < 1학년 < 2학년 < 3학년 < 4학년 < 석사 < 박사 < 교수 <<< 전문가\" placement=\"bottom\">\r\n                                    <IconButton>\r\n                                        <HelpOutlineIcon/>\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </Box>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <br /><br />\r\n                            <Box component=\"div\" width=\"100%\">\r\n                                <SizeLinearProgress variant=\"determinate\" value={responseRate} color=\"secondary\"></SizeLinearProgress>\r\n                            </Box>\r\n                            <br /><br />\r\n                            <Box component=\"div\" width=\"100%\">\r\n                                <SizeLinearProgress variant=\"determinate\" value={level} ></SizeLinearProgress>\r\n                            </Box>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={2} style={{paddingRight:\"30px\"}}>\r\n                            <br /><br />\r\n                            <Box component=\"div\" minWidth={100}>\r\n                                <Typography variant=\"h6\" color=\"textSecondary\">&nbsp;{responseRate}℃</Typography>\r\n                            </Box>\r\n                            <br />\r\n                            <Box component=\"div\" minWidth={100}>\r\n                                <Typography variant=\"h6\" color=\"textSecondary\">&nbsp;{myLevel(level)}</Typography>\r\n                            </Box>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </CenterBox>\r\n            <CenterBox component=\"div\">\r\n                <Paper>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={2} style={{ paddingLeft: \"50px\" }}>\r\n                            <h1 style={{ color: 'navy' }}>내 정보.</h1>\r\n                        </Grid>\r\n                        <Grid item xs={2} style={{ textAlign: 'right', color: \"grey\" }}>\r\n                            <h3>ID </h3><br />\r\n                            <h3>NAME </h3><br />\r\n                            <h3>BIRTH </h3><br />\r\n                            <h3>PHONE </h3><br />\r\n                            <h3>ADDRESS </h3><br />\r\n                            <h3>SCHOOL </h3><br />\r\n                        </Grid>\r\n                        <Grid item xs={5} style={{ textAlign: 'left', paddingLeft: '50px' }}>\r\n                            <h3>{isNull(id)}</h3><br />\r\n                            <h3>{isNull(name)}</h3><br />\r\n                            <h3>{isNull(birth)}</h3><br />\r\n                            <h3>{showPhoneNumber(phone)}</h3><br />\r\n                            <h3>{isNull(address)}</h3><br />\r\n                            <h3>{isNull(school)}</h3><br />\r\n                        </Grid>\r\n                        <Grid item xs={2} style={{ textAlign: 'right', margin: '10px'}}>\r\n                            {/* {school?null:<div><SchoolCheck  SendSchool={SendSchool}/></div>} */}\r\n                            <Dialogtest refresh={getUserInfo}/> \r\n                        </Grid> \r\n                    </Grid>\r\n                </Paper>\r\n            </CenterBox>\r\n            <CenterBox component=\"div\">\r\n                <Paper elevation={0}>\r\n                    <Box component=\"div\" display=\"block\">\r\n                        <ToggleButtonGroup value={menu} onChange={handleMenu} exclusive >\r\n                            <ToggleButton value=\"sell\" onClick={() => displayMysell()} style={{ width: \"350px\", height: \"150px\", fontSize: \"20px\" }}><StoreOutlinedIcon />&nbsp;&nbsp;내 판매게시글</ToggleButton>\r\n                            <ToggleButton value=\"buy\" onClick={() => displayMybuy()} style={{ width: \"350px\", height: \"150px\", fontSize: \"20px\" }}><ShoppingCartOutlinedIcon />&nbsp;&nbsp;내 구매상품 게시글</ToggleButton>\r\n                            <ToggleButton value=\"wish\" onClick={() => displayMywish()} style={{ width: \"350px\", height: \"150px\", fontSize: \"20px\" }}><FavoriteOutlinedIcon />&nbsp;&nbsp;내 찜목록</ToggleButton>\r\n                        </ToggleButtonGroup>\r\n                    </Box>\r\n                </Paper>\r\n                <Box component=\"div\" minHeight=\"500px\">\r\n                    {/* mysell */}\r\n                    <Box component=\"div\" display={myselldisplay} visibility={mysellvisibility}>\r\n                        <CenterTable stickyHeader>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell width=\"20%\">게시글아이디</TableCell>\r\n                                    <TableCell width=\"20%\">제목</TableCell>\r\n                                    <TableCell width=\"20%\">이미지</TableCell>\r\n                                    <TableCell width=\"20%\">가격</TableCell>\r\n                                    <TableCell width=\"20%\">상태</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {allMysellList ? allMysellList.map((c, index) => (\r\n                                    <TableRow row={c} key={index}>\r\n                                        <TableCell width=\"20%\">{c.id}</TableCell>\r\n                                        <TableCell width=\"20%\">{c.title}</TableCell>\r\n                                        <TableCell width=\"20%\"><img src={c.images === '' ? noimg : c.images} width=\"50px\" height=\"50px\" alt='img' /></TableCell>\r\n                                        <TableCell width=\"20%\">{String(c.price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}</TableCell>\r\n                                        <TableCell width=\"20%\">{boardState(c.state)}</TableCell>\r\n                                    </TableRow>\r\n\r\n                                )) : \"\"}\r\n                            </TableBody>\r\n                        </CenterTable>\r\n                    </Box>\r\n\r\n                    {/* mybuy */}\r\n                    <Box component=\"div\" display={mybuydisplay} visibility={mybuyvisibility}>\r\n                        <CenterTable stickyHeader>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell width=\"20%\">게시글아이디</TableCell>\r\n                                    <TableCell width=\"20%\">제목</TableCell>\r\n                                    <TableCell width=\"20%\">이미지</TableCell>\r\n                                    <TableCell width=\"20%\">가격</TableCell>\r\n                                    <TableCell width=\"20%\">거래일시</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {allMybuyList ? allMybuyList.map((c, index) => (\r\n\r\n                                    <TableRow row={c} key={index}>\r\n                                        <TableCell width=\"20%\">{c.id}</TableCell>\r\n                                        <TableCell width=\"20%\">{c.title}</TableCell>\r\n                                        <TableCell width=\"20%\"><img src={c.images === '' ? noimg : c.images} width=\"50px\" height=\"50px\" alt='img'/></TableCell>\r\n                                        <TableCell width=\"20%\">{String(c.board_price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}</TableCell>\r\n                                        <TableCell width=\"20%\">{c.contractDate}</TableCell>\r\n                                    </TableRow>\r\n\r\n                                )) : \"\"}\r\n                            </TableBody>\r\n                        </CenterTable>\r\n                    </Box>\r\n\r\n                    {/* mywish */}\r\n                    <Box component=\"div\" display={mywishdisplay} visibility={mywishvisibility}>\r\n                        <CenterTable stickyHeader>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell width=\"20%\">게시글아이디</TableCell>\r\n                                    <TableCell width=\"20%\">제목</TableCell>\r\n                                    <TableCell width=\"20%\">이미지</TableCell>\r\n                                    <TableCell width=\"20%\">가격</TableCell>\r\n                                    <TableCell width=\"20%\">상태</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {allMywishList ? allMywishList.map((c, index) => (\r\n\r\n                                    <TableRow row={c} key={index}>\r\n                                        <TableCell width=\"20%\">{c.board_id}</TableCell>\r\n                                        <TableCell width=\"20%\">{c.title}</TableCell>\r\n                                        <TableCell width=\"20%\"><img src={c.images === '' ? noimg : c.images} width=\"50px\" height=\"50px\" alt='img' /></TableCell>\r\n                                        <TableCell width=\"20%\">{String(c.price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}</TableCell>\r\n                                        <TableCell width=\"20%\">{boardState(c.state)}</TableCell>\r\n                                    </TableRow>\r\n\r\n                                )) : \"\"}\r\n                            </TableBody>\r\n                        </CenterTable>\r\n                    </Box>\r\n                </Box>\r\n            </CenterBox>\r\n        </Box>\r\n\r\n    )\r\n}\r\n\r\nexport default withRouter(MypageProfile)","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Profile from \"../container/mypage/profile\"\r\n\r\nfunction FleamarketMypage(props){\r\n\r\n  return (\r\n    <section id=\"main_contents\" style={{marginTop:\"-50px\"}}>\r\n        <Profile/>\r\n    </section>\r\n  )\r\n}\r\nexport default withRouter(FleamarketMypage);","module.exports = __webpack_public_path__ + \"static/media/school2.6a33ea7b.csv\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nconst Store = React.createContext();\r\n\r\nexport default Store;"],"sourceRoot":""}